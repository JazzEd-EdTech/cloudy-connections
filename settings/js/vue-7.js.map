{"version":3,"sources":["webpack:///./settings/src/views/Users.vue?5b74","webpack:///settings/src/components/userList/userRow.vue","webpack:///./settings/src/components/userList/userRow.vue?c225","webpack:///./settings/src/components/userList/userRow.vue","webpack:///./settings/src/components/userList/userRow.vue?3238","webpack:///settings/src/components/userList.vue","webpack:///./settings/src/components/userList.vue?3703","webpack:///./settings/src/components/userList.vue","webpack:///./settings/src/components/userList.vue?32bb","webpack:///settings/src/views/Users.vue","webpack:///./settings/src/views/Users.vue?9466","webpack:///./settings/src/views/Users.vue"],"names":["_vm","this","_h","$createElement","_c","_self","Object","keys","user","length","staticClass","attrs","id","class","loading","delete","disable","_e","generateAvatar","_v","_s","t","displayName","on","$event","preventDefault","updateDisplayName","backendCapabilities","ref","rand","all","domProps","displayname","directives","name","rawName","value","expression","modifiers","settings","canChangePassword","setPassword","password","updatePassword","minPasswordLength","mailAddress","updateEmail","email","groups","userGroups","availableGroups","isAdmin","createGroup","addUserGroup","removeUserGroup","formatGroupsTitle","slot","subAdminsGroups","subadmins","userSubAdminsGroups","addUserSubAdmin","removeUserSubAdmin","quota","userQuota","quotaOptions","validateQuota","setUserQuota","usedQuota","showConfig","languages","userLanguage","setUserLanguage","storageLocation","backend","lastLogin","OC","Util","formatDate","relativeModifiedDate","currentUser","toggleMenu","openedMenu","userActions","style","opacity","feedbackMessage","onScroll","scrolled","showNewUserForm","createUser","newUser","target","composing","$set","canAddGroups","model","callback","$$v","_l","key","externalActions","infiniteHandler","loadingAddGroup","scopedSlots","_u","fn","toggleNewUserMenu","item","defaultQuota","setDefaultQuota","Array","isArray","showLanguages","_i","$$a","$$el","$$c","checked","$$i","concat","slice","showLastLogin","showUserBackend","showStoragePath","proxy","users","selectedGroup"],"mappings":"gGAAA,I,6QCuIA,aAEA,ICzImM,EDyInM,CACA,eACA,+GACA,YACA,0BACA,2BAEA,YACA,kBAEA,QAVA,aAeA,KAfA,WAgBA,OACA,iCACA,cACA,mBACA,SACA,OACA,eACA,YACA,eACA,UACA,aACA,SACA,UACA,WACA,gBAIA,UAEA,YAFA,WAGA,QACA,mBACA,iCACA,wBACA,CACA,+CACA,gFACA,gCASA,OAPA,8CACA,QACA,iBACA,0CACA,8BAGA,gCAIA,WAvBA,WAuBA,WACA,yEACA,UAEA,oBA3BA,WA2BA,WACA,oFACA,UAEA,gBA/BA,WA+BA,WACA,oCAGA,0BAUA,OALA,eACA,eACA,+BACA,iBACA,6BACA,MAKA,UAlDA,WAmDA,4BACA,+EAEA,6DAEA,UAxDA,WAyDA,4BACA,IACA,uDAIA,WAFA,yCAEA,IAEA,qBAGA,UApEA,WAqEA,6BAEA,mDACA,yDACA,yBACA,wCAEA,qBAEA,sBAIA,kBAlFA,WAmFA,uDAIA,aAvFA,WAuFA,WAEA,EADA,gEACA,qDACA,+CACA,CACA,wBACA,yBAEA,yBAGA,IAGA,SAEA,WAFA,WAGA,kCAEA,SALA,WAMA,oBAUA,eAhBA,SAgBA,mEACA,sBACA,oCACA,CACA,OACA,OACA,wCAWA,kBAjCA,SAiCA,GAEA,OADA,oCACA,qBAGA,WAtCA,WAsCA,WACA,uBACA,oBACA,mBACA,4CACA,iBACA,oBACA,qBAIA,kBAjDA,WAiDA,WACA,uBACA,oBACA,mBACA,qBACA,sEACA,iBACA,oBACA,qBAUA,kBAnEA,WAmEA,WACA,+BACA,4BACA,oCACA,oBACA,kBACA,UACA,iBACA,yBACA,gCAUA,eAtFA,WAsFA,WACA,4BACA,yBACA,oCACA,oBACA,eACA,UACA,iBACA,sBACA,8BAUA,YAzGA,WAyGA,WACA,+BACA,4BACA,oCACA,oBACA,YACA,UACA,iBACA,yBACA,gCAUA,YA5HA,SA4HA,cAWA,OAVA,sCACA,mCACA,iBACA,mCACA,gBACA,sDAEA,kBACA,sCAEA,mDASA,aAhJA,SAgJA,cACA,iBACA,SAEA,uBACA,mBACA,OACA,6DACA,gDASA,gBAjKA,SAiKA,cACA,oBACA,SAEA,uBACA,mBACA,OACA,gEACA,iBACA,oBAEA,mCACA,mCAGA,kBACA,wBAUA,gBA3LA,SA2LA,cACA,0BACA,mBACA,OACA,gEACA,mDASA,mBAzMA,SAyMA,cACA,0BACA,mBACA,OACA,mEACA,mDASA,aAvNA,WAuNA,2EASA,OARA,sBAEA,cACA,oCACA,oBACA,YACA,UACA,8CACA,GASA,cAzOA,SAyOA,GAEA,kCACA,uBAEA,uEAYA,gBA1PA,SA0PA,cAQA,OAPA,0BAEA,oCACA,oBACA,eACA,eACA,kDACA,GAMA,gBAxQA,WAwQA,WACA,oBACA,qDACA,kBACA,IAEA,oDACA,uBACA,uBACA,MAEA,uB,OEjhBe,EAXC,YACd,GCRW,WAAa,IAAIA,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAwC,IAAhCI,OAAOC,KAAKP,EAAIQ,MAAMC,OAAaL,EAAG,MAAM,CAACM,YAAY,MAAMC,MAAM,CAAC,UAAUX,EAAIQ,KAAKI,KAAK,CAACR,EAAG,MAAM,CAACM,YAAY,SAASG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQC,QAAUf,EAAIc,QAAQE,UAAU,CAAGhB,EAAIc,QAAQC,QAAWf,EAAIc,QAAQE,QAA2MhB,EAAIiB,KAAtMb,EAAG,MAAM,CAACO,MAAM,CAAC,IAAM,GAAG,MAAQ,KAAK,OAAS,KAAK,IAAMX,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,IAAI,OAASZ,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,IAAI,QAAQZ,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,KAAK,WAAoBZ,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIQ,KAAKI,OAAOZ,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,cAAc,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAW,qEAAqEjB,EAAG,MAAM,CAACM,YAAY,MAAMG,MAAM,CAAC,SAAYb,EAAIc,QAAQC,QAAUf,EAAIc,QAAQE,SAASL,MAAM,CAAC,UAAUX,EAAIQ,KAAKI,KAAK,CAACR,EAAG,MAAM,CAACM,YAAY,SAASG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQC,QAAUf,EAAIc,QAAQE,UAAU,CAAGhB,EAAIc,QAAQC,QAAWf,EAAIc,QAAQE,QAA2MhB,EAAIiB,KAAtMb,EAAG,MAAM,CAACO,MAAM,CAAC,IAAM,GAAG,MAAQ,KAAK,OAAS,KAAK,IAAMX,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,IAAI,OAASZ,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,IAAI,QAAQZ,EAAIkB,eAAelB,EAAIQ,KAAKI,GAAI,KAAK,WAAoBZ,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIQ,KAAKI,OAAOZ,EAAImB,GAAG,KAAKf,EAAG,OAAO,CAACM,YAAY,cAAcG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQQ,aAAaC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBzB,EAAI0B,kBAAkBF,MAAW,CAAExB,EAAIQ,KAAKmB,oBAAkC,eAAE,CAAE3B,EAAIQ,KAAKmB,oBAAkC,eAAEvB,EAAG,QAAQ,CAACwB,IAAI,cAAcjB,MAAM,CAAC,GAAK,cAAcX,EAAIQ,KAAKI,GAAGZ,EAAI6B,KAAK,KAAO,OAAO,SAAW7B,EAAIc,QAAQQ,aAAatB,EAAIc,QAAQgB,IAAI,aAAe,eAAe,YAAc,MAAM,eAAiB,MAAM,WAAa,SAASC,SAAS,CAAC,MAAQ/B,EAAIQ,KAAKwB,eAAehC,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIQ,KAAKmB,oBAAkC,eAAEvB,EAAG,QAAQ,CAACM,YAAY,eAAeC,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAMX,EAAIiB,MAAMb,EAAG,MAAM,CAAC6B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBC,MAAOpC,EAAIqB,EAAE,WAAY,0DAA2DgB,WAAW,0EAA0EC,UAAU,CAAC,MAAO,KAAQ5B,YAAY,QAAQ,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIQ,KAAKwB,iBAAiB,GAAGhC,EAAImB,GAAG,KAAMnB,EAAIuC,SAASC,mBAAqBxC,EAAIQ,KAAKmB,oBAAoBc,YAAarC,EAAG,OAAO,CAACM,YAAY,WAAWG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQ4B,UAAUnB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBzB,EAAI2C,eAAenB,MAAW,CAACpB,EAAG,QAAQ,CAACwB,IAAI,WAAWjB,MAAM,CAAC,GAAK,WAAWX,EAAIQ,KAAKI,GAAGZ,EAAI6B,KAAK,KAAO,WAAW,SAAW,GAAG,SAAW7B,EAAIc,QAAQ4B,UAAU1C,EAAIc,QAAQgB,IAAI,UAAY9B,EAAI4C,kBAAkB,MAAQ,GAAG,YAAc5C,EAAIqB,EAAE,WAAY,gBAAgB,aAAe,eAAe,YAAc,MAAM,eAAiB,MAAM,WAAa,WAAWrB,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACM,YAAY,eAAeC,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQP,EAAG,OAAOJ,EAAImB,GAAG,KAAKf,EAAG,OAAO,CAACM,YAAY,cAAcG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQ+B,aAAatB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBzB,EAAI8C,YAAYtB,MAAW,CAACpB,EAAG,QAAQ,CAACwB,IAAI,cAAcjB,MAAM,CAAC,GAAK,cAAcX,EAAIQ,KAAKI,GAAGZ,EAAI6B,KAAK,KAAO,QAAQ,SAAW7B,EAAIc,QAAQ+B,aAAa7C,EAAIc,QAAQgB,IAAI,aAAe,eAAe,YAAc,MAAM,eAAiB,MAAM,WAAa,SAASC,SAAS,CAAC,MAAQ/B,EAAIQ,KAAKuC,SAAS/C,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACM,YAAY,eAAeC,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQX,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,SAASG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQkC,SAAS,CAAC5C,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,MAAQX,EAAIiD,WAAW,QAAUjD,EAAIkD,gBAAgB,SAAWlD,EAAIc,QAAQkC,QAAQhD,EAAIc,QAAQgB,IAAI,kBAAkB,SAAS,YAAc9B,EAAIqB,EAAE,WAAY,qBAAqB,MAAQ,OAAO,WAAW,KAAK,MAAQ,EAAE,UAAW,EAAK,SAAWrB,EAAIuC,SAASY,QAAQ,eAAgB,EAAM,YAAY,IAAI5B,GAAG,CAAC,IAAMvB,EAAIoD,YAAY,OAASpD,EAAIqD,aAAa,OAASrD,EAAIsD,kBAAkB,CAAClD,EAAG,OAAO,CAAC6B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBC,MAAOpC,EAAIuD,kBAAkBvD,EAAIiD,YAAaZ,WAAW,gCAAgCC,UAAU,CAAC,MAAO,KAAQ5B,YAAY,qBAAqBC,MAAM,CAAC,KAAO,SAAS6C,KAAK,SAAS,CAACxD,EAAImB,GAAG,IAAInB,EAAIoB,GAAGpB,EAAIiD,WAAWxC,OAAO,MAAMT,EAAImB,GAAG,KAAKf,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,YAAY6C,KAAK,YAAY,CAACxD,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,qBAAqB,GAAGrB,EAAImB,GAAG,KAAMnB,EAAIyD,gBAAgBhD,OAAO,GAAKT,EAAIuC,SAASY,QAAS/C,EAAG,MAAM,CAACM,YAAY,YAAYG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQ4C,YAAY,CAACtD,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,MAAQX,EAAI2D,oBAAoB,QAAU3D,EAAIyD,gBAAgB,SAAWzD,EAAIc,QAAQ4C,WAAW1D,EAAIc,QAAQgB,IAAI,YAAc9B,EAAIqB,EAAE,WAAY,yBAAyB,MAAQ,OAAO,WAAW,KAAK,MAAQ,EAAE,UAAW,EAAK,eAAgB,EAAM,YAAY,IAAIE,GAAG,CAAC,OAASvB,EAAI4D,gBAAgB,OAAS5D,EAAI6D,qBAAqB,CAACzD,EAAG,OAAO,CAAC6B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBC,MAAOpC,EAAIuD,kBAAkBvD,EAAI2D,qBAAsBtB,WAAW,yCAAyCC,UAAU,CAAC,MAAO,KAAQ5B,YAAY,qBAAqBC,MAAM,CAAC,KAAO,SAAS6C,KAAK,SAAS,CAACxD,EAAImB,GAAG,IAAInB,EAAIoB,GAAGpB,EAAI2D,oBAAoBlD,OAAO,MAAMT,EAAImB,GAAG,KAAKf,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,YAAY6C,KAAK,YAAY,CAACxD,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,qBAAqB,GAAGrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAAC6B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBC,MAAOpC,EAAa,UAAEqC,WAAW,YAAYC,UAAU,CAAC,MAAO,KAAQ5B,YAAY,QAAQG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQgD,QAAQ,CAAC1D,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,MAAQX,EAAI+D,UAAU,QAAU/D,EAAIgE,aAAa,SAAWhE,EAAIc,QAAQgD,OAAO9D,EAAIc,QAAQgB,IAAI,kBAAkB,SAAS,YAAc9B,EAAIqB,EAAE,WAAY,qBAAqB,MAAQ,QAAQ,WAAW,KAAK,YAAa,EAAM,UAAW,GAAME,GAAG,CAAC,IAAMvB,EAAIiE,cAAc,MAAQjE,EAAIkE,gBAAgBlE,EAAImB,GAAG,KAAKf,EAAG,WAAW,CAACM,YAAY,sBAAsBG,MAAM,CAAC,KAAOb,EAAImE,UAAU,IAAIxD,MAAM,CAAC,IAAM,OAAOoB,SAAS,CAAC,MAAQ/B,EAAImE,cAAc,GAAGnE,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAACM,YAAY,YAAYG,MAAM,CAAC,qBAAsBb,EAAIc,QAAQuD,YAAY,CAACjE,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,MAAQX,EAAIsE,aAAa,QAAUtE,EAAIqE,UAAU,SAAWrE,EAAIc,QAAQuD,WAAWrE,EAAIc,QAAQgB,IAAI,YAAc9B,EAAIqB,EAAE,WAAY,mBAAmB,MAAQ,OAAO,WAAW,OAAO,YAAa,EAAM,eAAe,YAAY,cAAc,SAASE,GAAG,CAAC,MAAQvB,EAAIuE,oBAAoB,GAAGvE,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIQ,KAAKgE,oBAAoBxE,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIQ,KAAKiE,YAAYzE,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAAC6B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBC,MAAOpC,EAAIQ,KAAKkE,UAAU,EAAI1E,EAAI2E,GAAGC,KAAKC,WAAW7E,EAAIQ,KAAKkE,WAAa,GAAIrC,WAAW,6DAA6DC,UAAU,CAAC,MAAO,KAAQ5B,YAAY,aAAa,CAACV,EAAImB,GAAG,SAASnB,EAAIoB,GAAGpB,EAAIQ,KAAKkE,UAAU,EAAI1E,EAAI2E,GAAGC,KAAKE,qBAAqB9E,EAAIQ,KAAKkE,WAAa1E,EAAIqB,EAAE,WAAW,UAAU,UAAUrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,eAAe,CAAEV,EAAI2E,GAAGI,cAAgB/E,EAAIQ,KAAKI,IAAsB,UAAhBZ,EAAIQ,KAAKI,IAAmBZ,EAAIc,QAAQgB,IAAuW9B,EAAIiB,KAAtWb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAAC6B,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOpC,EAAY,SAAEqC,WAAW,aAAa3B,YAAY,YAAYa,GAAG,CAAC,MAAQvB,EAAIgF,cAAchF,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,cAAcG,MAAM,CAAE,KAAQb,EAAIiF,aAAc,CAAC7E,EAAG,eAAe,CAACO,MAAM,CAAC,KAAOX,EAAIkF,gBAAgB,KAAclF,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,WAAWyE,MAAM,CAAEC,QAAiC,KAAxBpF,EAAIqF,gBAAyB,EAAI,IAAK,CAACjF,EAAG,MAAM,CAACM,YAAY,mBAAmBV,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqF,iBAAiB,kBACr/P,IDUpB,EACA,KACA,KACA,M,yBEiIF,GACA,UACA,iCAEA,GACA,aACA,qCAEA,GACA,MACA,eACA,YACA,eACA,UACA,mBACA,QACA,UACA,UACA,wCCjK8L,EDqK9L,CACA,gBACA,+DACA,YACA,UACA,0BACA,qBAEA,KARA,WASA,OACA,iBACA,eACA,SACA,OACA,WAEA,YACA,eACA,8BAGA,QArBA,WAsBA,iCACA,8GAMA,iBAKA,8DAEA,UACA,SADA,WAEA,0CAEA,cAJA,WAKA,oCACA,6DAMA,OALA,kFAEA,kCACA,iDAEA,EAEA,6BAIA,uDAFA,gFAIA,OApBA,WAsBA,qCACA,+CACA,4DAEA,aA1BA,WA4BA,oCAKA,OAFA,uBACA,0BACA,MAGA,gBApCA,WAsCA,8CAEA,aAxCA,WA0CA,4FAIA,OAFA,+BACA,6BACA,GAEA,kBAhDA,WAiDA,uDAEA,YAnDA,WAoDA,2CAEA,WAtDA,WAuDA,0CAEA,WAzDA,WA0DA,0BAIA,UA9DA,WA+DA,aACA,CACA,uCACA,mDAEA,CACA,oCACA,gDAKA,OAEA,4BACA,iCACA,gDACA,gCAKA,yBAEA,aACA,gDAIA,cACA,mDAIA,SACA,SADA,SACA,GACA,mCASA,cAXA,SAWA,GAEA,kCACA,uBAEA,qDACA,mCAGA,yCAGA,gBAvBA,SAuBA,GACA,iCACA,wBACA,sBACA,4DACA,0BAEA,gDAIA,OAlCA,SAkCA,GACA,mBACA,iCACA,iDAEA,YAvCA,WAwCA,iBAGA,UA3CA,WA6CA,iCAOA,+BACA,oEAOA,gDAEA,qBAEA,WAhEA,WAgEA,WACA,oBACA,gCACA,uBACA,+BACA,qCACA,+BACA,2DACA,sEACA,4BACA,sCAEA,iBACA,cACA,+BAEA,mBAEA,GADA,iBACA,4EACA,0CACA,QAEA,4BACA,SAEA,qCAKA,uBA9FA,SA8FA,GACA,kBAEA,uDACA,KAEA,YADA,yBAKA,wBASA,YAjHA,SAiHA,cAUA,OATA,uBACA,mCACA,kBACA,qEACA,uBAEA,kBACA,uBAEA,qDEnZe,EAXC,YACd,GCRW,WAAa,IAAIrF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,iBAAiBC,MAAM,CAAC,GAAK,eAAeY,GAAG,CAAC,UAAU,SAASC,GAAQ,OAAOxB,EAAIsF,SAAS9D,MAAW,CAACpB,EAAG,MAAM,CAACM,YAAY,MAAMG,MAAM,CAAC,OAAUb,EAAIuF,WAAavF,EAAIoE,WAAWoB,iBAAiB7E,MAAM,CAAC,GAAK,gBAAgB,CAACP,EAAG,MAAM,CAACM,YAAY,SAASC,MAAM,CAAC,GAAK,kBAAkBX,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,OAAOC,MAAM,CAAC,GAAK,eAAe,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,gBAAgBrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAC,GAAK,sBAAsB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAa,oBAAoBrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,WAAWC,MAAM,CAAC,GAAK,mBAAmB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAa,gBAAgBrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAC,GAAK,kBAAkB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAa,aAAarB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,SAASC,MAAM,CAAC,GAAK,iBAAiB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAa,cAAcrB,EAAImB,GAAG,KAAMnB,EAAIyD,gBAAgBhD,OAAO,GAAKT,EAAIuC,SAASY,QAAS/C,EAAG,MAAM,CAACM,YAAY,YAAYC,MAAM,CAAC,GAAK,oBAAoB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,uBAAuBrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,QAAQC,MAAM,CAAC,GAAK,gBAAgB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,aAAarB,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAACM,YAAY,YAAYC,MAAM,CAAC,GAAK,oBAAoB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,gBAAgBrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,yCAAyC,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,wBAAwBrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,iCAAiC,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,oBAAoBrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,kBAAkBrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,kBAAkBV,EAAImB,GAAG,KAAKf,EAAG,OAAO,CAAC6B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOpC,EAAIoE,WAA0B,gBAAE/B,WAAW,+BAA+B3B,YAAY,MAAMG,MAAM,CAAC,OAAUb,EAAIuF,UAAYvF,EAAIoE,WAAWoB,iBAAiB7E,MAAM,CAAC,GAAK,WAAW,SAAWX,EAAIc,QAAQgB,KAAKP,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBzB,EAAIyF,WAAWjE,MAAW,CAACpB,EAAG,MAAM,CAACS,MAAMb,EAAIc,QAAQgB,IAAI,qBAAqB,aAAa9B,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACN,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAI0F,QAAU,GAAErD,WAAW,eAAeT,IAAI,cAAcjB,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,SAAW,GAAG,YAAcX,EAAIqB,EAAE,WAAY,YAAY,KAAO,WAAW,aAAe,MAAM,eAAiB,OAAO,YAAc,MAAM,QAAU,0BAA0BU,SAAS,CAAC,MAAS/B,EAAI0F,QAAU,IAAGnE,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOmE,OAAOC,WAAqB5F,EAAI6F,KAAK7F,EAAI0F,QAAS,KAAMlE,EAAOmE,OAAOvD,aAAapC,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAI0F,QAAmB,YAAErD,WAAW,wBAAwB1B,MAAM,CAAC,GAAK,iBAAiB,KAAO,OAAO,YAAcX,EAAIqB,EAAE,WAAY,gBAAgB,KAAO,cAAc,aAAe,MAAM,eAAiB,OAAO,YAAc,OAAOU,SAAS,CAAC,MAAS/B,EAAI0F,QAAmB,aAAGnE,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOmE,OAAOC,WAAqB5F,EAAI6F,KAAK7F,EAAI0F,QAAS,cAAelE,EAAOmE,OAAOvD,aAAapC,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAI0F,QAAgB,SAAErD,WAAW,qBAAqBT,IAAI,kBAAkBjB,MAAM,CAAC,GAAK,kBAAkB,KAAO,WAAW,SAAqC,KAA1BX,EAAI0F,QAAQ7C,YAAiB,YAAc7C,EAAIqB,EAAE,WAAY,YAAY,KAAO,WAAW,aAAe,eAAe,eAAiB,OAAO,YAAc,MAAM,UAAYrB,EAAI4C,mBAAmBb,SAAS,CAAC,MAAS/B,EAAI0F,QAAgB,UAAGnE,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOmE,OAAOC,WAAqB5F,EAAI6F,KAAK7F,EAAI0F,QAAS,WAAYlE,EAAOmE,OAAOvD,aAAapC,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAI0F,QAAmB,YAAErD,WAAW,wBAAwB1B,MAAM,CAAC,GAAK,WAAW,KAAO,QAAQ,SAAkC,KAAvBX,EAAI0F,QAAQhD,SAAc,YAAc1C,EAAIqB,EAAE,WAAY,SAAS,KAAO,QAAQ,aAAe,MAAM,eAAiB,OAAO,YAAc,OAAOU,SAAS,CAAC,MAAS/B,EAAI0F,QAAmB,aAAGnE,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOmE,OAAOC,WAAqB5F,EAAI6F,KAAK7F,EAAI0F,QAAS,cAAelE,EAAOmE,OAAOvD,aAAapC,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,UAAU,CAAGV,EAAIuC,SAASY,QAAsMnD,EAAIiB,KAAjMb,EAAG,QAAQ,CAACS,MAAM,CAAC,qBAAsBb,EAAIc,QAAQkC,QAAQrC,MAAM,CAAC,KAAO,OAAO,SAAW,KAAK,GAAK,YAAY,UAAYX,EAAIuC,SAASY,SAASpB,SAAS,CAAC,MAAQ/B,EAAI0F,QAAQ1C,UAAmBhD,EAAImB,GAAG,KAAKf,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,QAAUX,EAAI8F,aAAa,SAAW9F,EAAIc,QAAQkC,QAAQhD,EAAIc,QAAQgB,IAAI,kBAAkB,SAAS,YAAc9B,EAAIqB,EAAE,WAAY,qBAAqB,MAAQ,OAAO,WAAW,KAAK,UAAW,EAAK,UAAW,EAAK,mBAAkB,EAAM,YAAY,IAAIE,GAAG,CAAC,IAAMvB,EAAIoD,aAAa2C,MAAM,CAAC3D,MAAOpC,EAAI0F,QAAc,OAAEM,SAAS,SAAUC,GAAMjG,EAAI6F,KAAK7F,EAAI0F,QAAS,SAAUO,IAAM5D,WAAW,mBAAmB,CAACjC,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,YAAY6C,KAAK,YAAY,CAACxD,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,qBAAqB,GAAGrB,EAAImB,GAAG,KAAMnB,EAAIyD,gBAAgBhD,OAAO,GAAKT,EAAIuC,SAASY,QAAS/C,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,QAAUX,EAAIyD,gBAAgB,YAAczD,EAAIqB,EAAE,WAAY,yBAAyB,MAAQ,OAAO,WAAW,KAAK,UAAW,EAAK,mBAAkB,EAAM,YAAY,IAAI0E,MAAM,CAAC3D,MAAOpC,EAAI0F,QAAuB,gBAAEM,SAAS,SAAUC,GAAMjG,EAAI6F,KAAK7F,EAAI0F,QAAS,kBAAmBO,IAAM5D,WAAW,4BAA4B,CAACjC,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,YAAY6C,KAAK,YAAY,CAACxD,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,qBAAqB,GAAGrB,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,SAAS,CAACN,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,QAAUX,EAAIgE,aAAa,YAAchE,EAAIqB,EAAE,WAAY,qBAAqB,MAAQ,QAAQ,WAAW,KAAK,YAAa,EAAM,UAAW,GAAME,GAAG,CAAC,IAAMvB,EAAIiE,eAAe8B,MAAM,CAAC3D,MAAOpC,EAAI0F,QAAa,MAAEM,SAAS,SAAUC,GAAMjG,EAAI6F,KAAK7F,EAAI0F,QAAS,QAASO,IAAM5D,WAAW,oBAAoB,GAAGrC,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,QAAUX,EAAIqE,UAAU,YAAcrE,EAAIqB,EAAE,WAAY,oBAAoB,MAAQ,OAAO,WAAW,OAAO,YAAa,EAAM,eAAe,YAAY,cAAc,SAAS0E,MAAM,CAAC3D,MAAOpC,EAAI0F,QAAgB,SAAEM,SAAS,SAAUC,GAAMjG,EAAI6F,KAAK7F,EAAI0F,QAAS,WAAYO,IAAM5D,WAAW,uBAAuB,GAAGrC,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,oBAAoBV,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAA0B,gBAAEhE,EAAG,MAAM,CAACM,YAAY,gBAAgBV,EAAIiB,KAAKjB,EAAImB,GAAG,KAAMnB,EAAIoE,WAAwB,cAAEhE,EAAG,MAAM,CAACM,YAAY,cAAcV,EAAIiB,KAAKjB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,QAAQ,CAACM,YAAY,kDAAkDC,MAAM,CAAC,KAAO,SAAS,GAAK,YAAY,MAAQ,GAAG,MAAQX,EAAIqB,EAAE,WAAY,yBAAyBrB,EAAImB,GAAG,KAAKnB,EAAIkG,GAAIlG,EAAiB,eAAE,SAASQ,EAAK2F,GAAK,OAAO/F,EAAG,WAAW,CAAC+F,IAAIA,EAAIxF,MAAM,CAAC,KAAOH,EAAK,SAAWR,EAAIuC,SAAS,WAAavC,EAAIoE,WAAW,OAASpE,EAAIgD,OAAO,gBAAkBhD,EAAIyD,gBAAgB,aAAezD,EAAIgE,aAAa,UAAYhE,EAAIqE,UAAU,gBAAkBrE,EAAIoG,sBAAqBpG,EAAImB,GAAG,KAAKf,EAAG,mBAAmB,CAACwB,IAAI,kBAAkBL,GAAG,CAAC,SAAWvB,EAAIqG,kBAAkB,CAACjG,EAAG,MAAM,CAACO,MAAM,CAAC,KAAO,WAAW6C,KAAK,WAAW,CAACpD,EAAG,MAAM,CAACM,YAAY,sCAAsCV,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACO,MAAM,CAAC,KAAO,WAAW6C,KAAK,WAAW,CAACpD,EAAG,MAAM,CAACM,YAAY,qBAAqBV,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACO,MAAM,CAAC,KAAO,cAAc6C,KAAK,cAAc,CAACpD,EAAG,MAAM,CAACO,MAAM,CAAC,GAAK,iBAAiB,CAACP,EAAG,MAAM,CAACM,YAAY,uBAAuBV,EAAImB,GAAG,KAAKf,EAAG,KAAK,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,+BAA+B,KAC9sQ,IDUpB,EACA,KACA,KACA,M,oRE6DF,aAEA,IC7E2L,ED6E3L,CACA,aACA,wBACA,YACA,wBACA,sCACA,oCACA,8CACA,WACA,iBAEA,YAXA,WAYA,iCACA,gDACA,qDACA,wDAEA,oDAEA,QAnBA,WAsBA,mBACA,UACA,UACA,wCAKA,KA9BA,WA+BA,OAEA,2DAEA,iBACA,mBACA,qBACA,mBACA,YACA,mBACA,mBACA,iBACA,mBACA,oBAIA,SACA,kBADA,WAEA,iEACA,iCACA,yBACA,+BAIA,gBATA,SASA,GAEA,gCAGA,OADA,0DACA,oBAEA,gBAhBA,SAgBA,KAGA,OAFA,qBACA,4BACA,GAEA,YArBA,SAqBA,GACA,WAEA,mBACA,oGACA,mDACA,YACA,GACA,uCAYA,gBAzCA,WAyCA,2EACA,qCACA,YACA,oBAEA,oBACA,iBACA,kBACA,kBAEA,qBAUA,cA7DA,SA6DA,GAGA,cADA,4BAEA,6BAGA,0EAaA,eAjFA,SAiFA,OAMA,OALA,2BACA,OACA,OACA,WAEA,sBAQA,YA/FA,SA+FA,cACA,oBACA,wBACA,mCACA,iBACA,uBACA,qBACA,gBACA,aACA,QACA,sBAIA,kBACA,0BAIA,UACA,MADA,WAEA,qCAEA,YAJA,WAKA,2CAEA,WAPA,WAQA,0CAIA,eACA,6DACA,gBACA,0CAGA,eACA,6DACA,gBACA,0CAGA,iBACA,+DACA,gBACA,4CAGA,iBACA,+DACA,gBACA,4CAIA,UArCA,WAsCA,yCAEA,SAxCA,WAyCA,0CAIA,aA7CA,WA+CA,4FAGA,OADA,+BACA,GAGA,cACA,eACA,8BACA,mBAEA,6GAEA,iEAEA,qBAEA,gBACA,uBAMA,KAvEA,WAuEA,WAEA,OACA,gCA0CA,GAtCA,GAHA,yBAGA,iBACA,SA8BA,OA7BA,2BACA,WACA,WAGA,UACA,aACA,6BAIA,cACA,gBAGA,8CACA,wCAGA,wDAEA,kBACA,mBACA,kCACA,kBACA,wBAIA,MAOA,6DAGA,GAFA,mBACA,0BACA,UACA,OACA,WACA,6BAEA,aAIA,iDACA,gDAGA,yEAEA,YACA,8BACA,yBACA,cAEA,YACA,sCACA,6BACA,UACA,oBACA,uBAEA,cACA,4BAEA,kBAOA,OACA,cACA,eACA,0BACA,sBACA,+BAGA,kBACA,mBACA,yBAGA,aAEA,OACA,cACA,eACA,gBACA,+BACA,sDAsBA,OApBA,wBACA,kBACA,+BACA,wBACA,iBACA,0BAGA,qBAEA,+BACA,uBAEA,yBACA,yEAIA,aAEA,KE9aI,EAAY,YACd,GXRW,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACO,MAAM,CAAC,WAAW,WAAW,mBAAmB,CAAE,eAAgBX,EAAIsG,kBAAmBC,YAAYvG,EAAIwG,GAAG,CAAC,CAACL,IAAI,aAAaM,GAAG,WAAW,MAAO,CAACrG,EAAG,mBAAmB,CAACO,MAAM,CAAC,YAAY,kBAAkB,KAAOX,EAAIqB,EAAE,WAAW,YAAY,eAAe,YAAYE,GAAG,CAAC,MAAQvB,EAAI0G,qBAAqB1G,EAAImB,GAAG,KAAKf,EAAG,KAAK,CAACO,MAAM,CAAC,GAAK,kBAAkBX,EAAIkG,GAAIlG,EAAQ,MAAE,SAAS2G,GAAM,OAAOvG,EAAG,oBAAoB,CAAC+F,IAAIQ,EAAKR,IAAIxF,MAAM,CAAC,KAAOgG,QAAU,GAAG3G,EAAImB,GAAG,KAAKf,EAAG,wBAAwB,CAACA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,sBAAsBrB,EAAImB,GAAG,KAAKf,EAAG,cAAc,CAACM,YAAY,kBAAkBC,MAAM,CAAC,MAAQX,EAAI4G,aAAa,QAAU5G,EAAIgE,aAAa,kBAAkB,SAAS,YAAchE,EAAIqB,EAAE,WAAY,wBAAwB,MAAQ,QAAQ,WAAW,KAAK,YAAa,EAAM,UAAW,GAAME,GAAG,CAAC,IAAMvB,EAAIiE,cAAc,MAAQjE,EAAI6G,oBAAoB,GAAG7G,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAiB,cAAEqC,WAAW,kBAAkB3B,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,GAAK,iBAAiBoB,SAAS,CAAC,QAAU+E,MAAMC,QAAQ/G,EAAIgH,eAAehH,EAAIiH,GAAGjH,EAAIgH,cAAc,OAAO,EAAGhH,EAAiB,eAAGuB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI0F,EAAIlH,EAAIgH,cAAcG,EAAK3F,EAAOmE,OAAOyB,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAaI,EAAItH,EAAIiH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAItH,EAAIgH,cAAcE,EAAIK,OAAO,CAA/E,QAA4FD,GAAK,IAAItH,EAAIgH,cAAcE,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,UAAWtH,EAAIgH,cAAcI,MAASpH,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,kBAAkB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,wBAAwBrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAiB,cAAEqC,WAAW,kBAAkB3B,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,GAAK,iBAAiBoB,SAAS,CAAC,QAAU+E,MAAMC,QAAQ/G,EAAIyH,eAAezH,EAAIiH,GAAGjH,EAAIyH,cAAc,OAAO,EAAGzH,EAAiB,eAAGuB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI0F,EAAIlH,EAAIyH,cAAcN,EAAK3F,EAAOmE,OAAOyB,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAaI,EAAItH,EAAIiH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAItH,EAAIyH,cAAcP,EAAIK,OAAO,CAA/E,QAA4FD,GAAK,IAAItH,EAAIyH,cAAcP,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,UAAWtH,EAAIyH,cAAcL,MAASpH,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,kBAAkB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,yBAAyBrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAmB,gBAAEqC,WAAW,oBAAoB3B,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,GAAK,mBAAmBoB,SAAS,CAAC,QAAU+E,MAAMC,QAAQ/G,EAAI0H,iBAAiB1H,EAAIiH,GAAGjH,EAAI0H,gBAAgB,OAAO,EAAG1H,EAAmB,iBAAGuB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI0F,EAAIlH,EAAI0H,gBAAgBP,EAAK3F,EAAOmE,OAAOyB,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAaI,EAAItH,EAAIiH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAItH,EAAI0H,gBAAgBR,EAAIK,OAAO,CAAjF,QAA8FD,GAAK,IAAItH,EAAI0H,gBAAgBR,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,UAAWtH,EAAI0H,gBAAgBN,MAASpH,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,oBAAoB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,2BAA2BrB,EAAImB,GAAG,KAAKf,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAmB,gBAAEqC,WAAW,oBAAoB3B,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,GAAK,mBAAmBoB,SAAS,CAAC,QAAU+E,MAAMC,QAAQ/G,EAAI2H,iBAAiB3H,EAAIiH,GAAGjH,EAAI2H,gBAAgB,OAAO,EAAG3H,EAAmB,iBAAGuB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI0F,EAAIlH,EAAI2H,gBAAgBR,EAAK3F,EAAOmE,OAAOyB,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAaI,EAAItH,EAAIiH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAItH,EAAI2H,gBAAgBT,EAAIK,OAAO,CAAjF,QAA8FD,GAAK,IAAItH,EAAI2H,gBAAgBT,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,UAAWtH,EAAI2H,gBAAgBP,MAASpH,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,oBAAoB,CAACX,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,WAAY,+BAA+BuG,OAAM,MAAS,CAAC5H,EAAImB,GAAG,KAAKf,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQX,EAAI6H,MAAM,WAAa7H,EAAIoE,WAAW,cAAgBpE,EAAI8H,cAAc,gBAAkB9H,EAAIoG,iBAAiBG,YAAYvG,EAAIwG,GAAG,CAAC,CAACL,IAAI,UAAUM,GAAG,aAA6BmB,OAAM,QAAW,KAC7uI,IWUpB,EACA,KACA,KACA,MAIa,Y","file":"vue-7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppContent',{attrs:{\"app-name\":\"settings\",\"navigation-class\":{ 'icon-loading': _vm.loadingAddGroup }},scopedSlots:_vm._u([{key:\"navigation\",fn:function(){return [_c('AppNavigationNew',{attrs:{\"button-id\":\"new-user-button\",\"text\":_vm.t('settings','New user'),\"button-class\":\"icon-add\"},on:{\"click\":_vm.toggleNewUserMenu}}),_vm._v(\" \"),_c('ul',{attrs:{\"id\":\"usergrouplist\"}},_vm._l((_vm.menu),function(item){return _c('AppNavigationItem',{key:item.key,attrs:{\"item\":item}})}),1),_vm._v(\" \"),_c('AppNavigationSettings',[_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('settings', 'Default quota:')))]),_vm._v(\" \"),_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"value\":_vm.defaultQuota,\"options\":_vm.quotaOptions,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Select default quota'),\"label\":\"label\",\"track-by\":\"id\",\"allowEmpty\":false,\"taggable\":true},on:{\"tag\":_vm.validateQuota,\"input\":_vm.setDefaultQuota}})],1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLanguages),expression:\"showLanguages\"}],staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"showLanguages\"},domProps:{\"checked\":Array.isArray(_vm.showLanguages)?_vm._i(_vm.showLanguages,null)>-1:(_vm.showLanguages)},on:{\"change\":function($event){var $$a=_vm.showLanguages,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLanguages=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLanguages=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLanguages=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLanguages\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show Languages')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLastLogin),expression:\"showLastLogin\"}],staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"showLastLogin\"},domProps:{\"checked\":Array.isArray(_vm.showLastLogin)?_vm._i(_vm.showLastLogin,null)>-1:(_vm.showLastLogin)},on:{\"change\":function($event){var $$a=_vm.showLastLogin,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLastLogin=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLastLogin=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLastLogin=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLastLogin\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show last login')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showUserBackend),expression:\"showUserBackend\"}],staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"showUserBackend\"},domProps:{\"checked\":Array.isArray(_vm.showUserBackend)?_vm._i(_vm.showUserBackend,null)>-1:(_vm.showUserBackend)},on:{\"change\":function($event){var $$a=_vm.showUserBackend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showUserBackend=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showUserBackend=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showUserBackend=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showUserBackend\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show user backend')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showStoragePath),expression:\"showStoragePath\"}],staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"showStoragePath\"},domProps:{\"checked\":Array.isArray(_vm.showStoragePath)?_vm._i(_vm.showStoragePath,null)>-1:(_vm.showStoragePath)},on:{\"change\":function($event){var $$a=_vm.showStoragePath,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showStoragePath=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showStoragePath=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showStoragePath=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showStoragePath\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show storage path')))])])])]},proxy:true}])},[_vm._v(\" \"),_c('user-list',{attrs:{\"users\":_vm.users,\"showConfig\":_vm.showConfig,\"selectedGroup\":_vm.selectedGroup,\"externalActions\":_vm.externalActions},scopedSlots:_vm._u([{key:\"content\",fn:function(){return undefined},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<!-- Obfuscated user: Logged in user does not have permissions to see all of the data -->\n\t<div class=\"row\" v-if=\"Object.keys(user).length ===1\" :data-id=\"user.id\">\n\t\t<div class=\"avatar\" :class=\"{'icon-loading-small': loading.delete || loading.disable}\">\n\t\t\t<img alt=\"\" width=\"32\" height=\"32\" :src=\"generateAvatar(user.id, 32)\"\n\t\t\t\t :srcset=\"generateAvatar(user.id, 64)+' 2x, '+generateAvatar(user.id, 128)+' 4x'\"\n\t\t\t\t v-if=\"!loading.delete && !loading.disable\">\n\t\t</div>\n\t\t<div class=\"name\">{{user.id}}</div>\n\t\t<div class=\"obfuscated\">{{t('settings','You do not have permissions to see the details of this user')}}</div>\n\t</div>\n\n\t<!-- User full data -->\n\t<div class=\"row\" v-else :class=\"{'disabled': loading.delete || loading.disable}\" :data-id=\"user.id\">\n\t\t<div class=\"avatar\" :class=\"{'icon-loading-small': loading.delete || loading.disable}\">\n\t\t\t<img alt=\"\" width=\"32\" height=\"32\" :src=\"generateAvatar(user.id, 32)\"\n\t\t\t\t :srcset=\"generateAvatar(user.id, 64)+' 2x, '+generateAvatar(user.id, 128)+' 4x'\"\n\t\t\t\t v-if=\"!loading.delete && !loading.disable\">\n\t\t</div>\n\t\t<!-- dirty hack to ellipsis on two lines -->\n\t\t<div class=\"name\">{{user.id}}</div>\n\t\t<form class=\"displayName\" :class=\"{'icon-loading-small': loading.displayName}\" v-on:submit.prevent=\"updateDisplayName\">\n\t\t\t<template v-if=\"user.backendCapabilities.setDisplayName\">\n\t\t\t\t<input v-if=\"user.backendCapabilities.setDisplayName\"\n\t\t\t\t\t\t:id=\"'displayName'+user.id+rand\" type=\"text\"\n\t\t\t\t\t\t:disabled=\"loading.displayName||loading.all\"\n\t\t\t\t\t\t:value=\"user.displayname\" ref=\"displayName\"\n\t\t\t\t\t\tautocomplete=\"new-password\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />\n\t\t\t\t<input v-if=\"user.backendCapabilities.setDisplayName\" type=\"submit\" class=\"icon-confirm\" value=\"\" />\n\t\t\t</template>\n\t\t\t<div v-else class=\"name\" v-tooltip.auto=\"t('settings', 'The backend does not support changing the display name')\">{{user.displayname}}</div>\n\t\t</form>\n\t\t<form class=\"password\" v-if=\"settings.canChangePassword && user.backendCapabilities.setPassword\" :class=\"{'icon-loading-small': loading.password}\"\n\t\t\t  v-on:submit.prevent=\"updatePassword\">\n\t\t\t<input :id=\"'password'+user.id+rand\" type=\"password\" required\n\t\t\t\t\t:disabled=\"loading.password||loading.all\" :minlength=\"minPasswordLength\"\n\t\t\t\t\tvalue=\"\" :placeholder=\"t('settings', 'New password')\" ref=\"password\"\n\t\t\t\t\tautocomplete=\"new-password\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />\n\t\t\t<input type=\"submit\" class=\"icon-confirm\" value=\"\" />\n\t\t</form>\n\t\t<div v-else></div>\n\t\t<form class=\"mailAddress\" :class=\"{'icon-loading-small': loading.mailAddress}\" v-on:submit.prevent=\"updateEmail\">\n\t\t\t<input :id=\"'mailAddress'+user.id+rand\" type=\"email\"\n\t\t\t\t\t:disabled=\"loading.mailAddress||loading.all\"\n\t\t\t\t\t:value=\"user.email\" ref=\"mailAddress\"\n\t\t\t\t\tautocomplete=\"new-password\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />\n\t\t\t<input type=\"submit\" class=\"icon-confirm\" value=\"\" />\n\t\t</form>\n\t\t<div class=\"groups\" :class=\"{'icon-loading-small': loading.groups}\">\n\t\t\t<multiselect :value=\"userGroups\" :options=\"availableGroups\" :disabled=\"loading.groups||loading.all\"\n\t\t\t\t\t\t tag-placeholder=\"create\" :placeholder=\"t('settings', 'Add user in group')\"\n\t\t\t\t\t\t label=\"name\" track-by=\"id\" class=\"multiselect-vue\" :limit=\"2\"\n\t\t\t\t\t\t :multiple=\"true\" :taggable=\"settings.isAdmin\" :closeOnSelect=\"false\"\n\t\t\t\t\t\t :tag-width=\"60\"\n\t\t\t\t\t\t @tag=\"createGroup\" @select=\"addUserGroup\" @remove=\"removeUserGroup\">\n\t\t\t\t<span slot=\"limit\" class=\"multiselect__limit\" v-tooltip.auto=\"formatGroupsTitle(userGroups)\">+{{userGroups.length-2}}</span>\n\t\t\t\t<span slot=\"noResult\">{{t('settings', 'No results')}}</span>\n\t\t\t</multiselect>\n\t\t</div>\n\t\t<div class=\"subadmins\" v-if=\"subAdminsGroups.length>0 && settings.isAdmin\" :class=\"{'icon-loading-small': loading.subadmins}\">\n\t\t\t<multiselect :value=\"userSubAdminsGroups\" :options=\"subAdminsGroups\" :disabled=\"loading.subadmins||loading.all\"\n\t\t\t\t\t\t :placeholder=\"t('settings', 'Set user as admin for')\"\n\t\t\t\t\t\t label=\"name\" track-by=\"id\" class=\"multiselect-vue\" :limit=\"2\"\n\t\t\t\t\t\t :multiple=\"true\" :closeOnSelect=\"false\" :tag-width=\"60\"\n\t\t\t\t\t\t @select=\"addUserSubAdmin\" @remove=\"removeUserSubAdmin\">\n\t\t\t\t<span slot=\"limit\" class=\"multiselect__limit\" v-tooltip.auto=\"formatGroupsTitle(userSubAdminsGroups)\">+{{userSubAdminsGroups.length-2}}</span>\n\t\t\t\t<span slot=\"noResult\">{{t('settings', 'No results')}}</span>\n\t\t\t</multiselect>\n\t\t</div>\n\t\t<div class=\"quota\" :class=\"{'icon-loading-small': loading.quota}\" v-tooltip.auto=\"usedSpace\">\n\t\t\t<multiselect :value=\"userQuota\" :options=\"quotaOptions\" :disabled=\"loading.quota||loading.all\"\n\t\t\t\t\t\t tag-placeholder=\"create\" :placeholder=\"t('settings', 'Select user quota')\"\n\t\t\t\t\t\t label=\"label\" track-by=\"id\" class=\"multiselect-vue\"\n\t\t\t\t\t\t :allowEmpty=\"false\" :taggable=\"true\"\n\t\t\t\t\t\t @tag=\"validateQuota\" @input=\"setUserQuota\">\n\t\t\t</multiselect>\n\t\t\t<progress class=\"quota-user-progress\" :class=\"{'warn':usedQuota>80}\" :value=\"usedQuota\" max=\"100\"></progress>\n\t\t</div>\n\t\t<div class=\"languages\" :class=\"{'icon-loading-small': loading.languages}\"\n\t\t\t v-if=\"showConfig.showLanguages\">\n\t\t\t<multiselect :value=\"userLanguage\" :options=\"languages\" :disabled=\"loading.languages||loading.all\"\n\t\t\t\t\t\t :placeholder=\"t('settings', 'No language set')\"\n\t\t\t\t\t\t label=\"name\" track-by=\"code\" class=\"multiselect-vue\"\n\t\t\t\t\t\t :allowEmpty=\"false\" group-values=\"languages\" group-label=\"label\"\n\t\t\t\t\t\t @input=\"setUserLanguage\">\n\t\t\t</multiselect>\n\t\t</div>\n\t\t<div class=\"storageLocation\" v-if=\"showConfig.showStoragePath\">{{user.storageLocation}}</div>\n\t\t<div class=\"userBackend\" v-if=\"showConfig.showUserBackend\">{{user.backend}}</div>\n\t\t<div class=\"lastLogin\" v-if=\"showConfig.showLastLogin\" v-tooltip.auto=\"user.lastLogin>0 ? OC.Util.formatDate(user.lastLogin) : ''\">\n\t\t\t{{user.lastLogin>0 ? OC.Util.relativeModifiedDate(user.lastLogin) : t('settings','Never')}}\n\t\t</div>\n\t\t<div class=\"userActions\">\n\t\t\t<div class=\"toggleUserActions\" v-if=\"OC.currentUser !== user.id && user.id !== 'admin' && !loading.all\">\n\t\t\t\t<div class=\"icon-more\" v-click-outside=\"hideMenu\" @click=\"toggleMenu\"></div>\n\t\t\t\t<div class=\"popovermenu\" :class=\"{ 'open': openedMenu }\">\n\t\t\t\t\t<popover-menu :menu=\"userActions\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"feedback\" :style=\"{opacity: feedbackMessage !== '' ? 1 : 0}\">\n\t\t\t\t<div class=\"icon-checkmark\"></div>\n\t\t\t\t{{feedbackMessage}}\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside';\nimport Vue from 'vue'\nimport VTooltip from 'v-tooltip'\nimport { PopoverMenu, Multiselect } from 'nextcloud-vue'\n\nVue.use(VTooltip)\n\nexport default {\n\tname: 'userRow',\n\tprops: ['user', 'settings', 'groups', 'subAdminsGroups', 'quotaOptions', 'showConfig', 'languages', 'externalActions'],\n\tcomponents: {\n\t\tPopoverMenu,\n\t\tMultiselect\n\t},\n\tdirectives: {\n\t\tClickOutside\n\t},\n\tmounted() {\n\t\t// required if popup needs to stay opened after menu click\n\t\t// since we only have disable/delete actions, let's close it directly\n\t\t// this.popupItem = this.$el;\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trand: parseInt(Math.random() * 1000),\n\t\t\topenedMenu: false,\n\t\t\tfeedbackMessage: '',\n\t\t\tloading: {\n\t\t\t\tall: false,\n\t\t\t\tdisplayName: false,\n\t\t\t\tpassword: false,\n\t\t\t\tmailAddress: false,\n\t\t\t\tgroups: false,\n\t\t\t\tsubadmins: false,\n\t\t\t\tquota: false,\n\t\t\t\tdelete: false,\n\t\t\t\tdisable: false,\n\t\t\t\tlanguages: false\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\t/* USER POPOVERMENU ACTIONS */\n\t\tuserActions() {\n\t\t\tlet actions = [{\n\t\t\t\ticon: 'icon-delete',\n\t\t\t\ttext: t('settings','Delete user'),\n\t\t\t\taction: this.deleteUser\n\t\t\t},{\n\t\t\t\ticon: this.user.enabled ? 'icon-close' : 'icon-add',\n\t\t\t\ttext: this.user.enabled ? t('settings','Disable user') : t('settings','Enable user'),\n\t\t\t\taction: this.enableDisableUser\n\t\t\t}];\n\t\t\tif (this.user.email !== null && this.user.email !== '') {\n\t\t\t\tactions.push({\n\t\t\t\t\ticon: 'icon-mail',\n\t\t\t\t\ttext: t('settings','Resend welcome email'),\n\t\t\t\t\taction: this.sendWelcomeMail\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn actions.concat(this.externalActions);\n\t\t},\n\n\t\t/* GROUPS MANAGEMENT */\n\t\tuserGroups() {\n\t\t\tlet userGroups = this.groups.filter(group => this.user.groups.includes(group.id));\n\t\t\treturn userGroups;\n\t\t},\n\t\tuserSubAdminsGroups() {\n\t\t\tlet userSubAdminsGroups = this.subAdminsGroups.filter(group => this.user.subadmin.includes(group.id));\n\t\t\treturn userSubAdminsGroups;\n\t\t},\n\t\tavailableGroups() {\n\t\t\treturn this.groups.map((group) => {\n\t\t\t\t// clone object because we don't want\n\t\t\t\t// to edit the original groups\n\t\t\t\tlet groupClone = Object.assign({}, group);\n\n\t\t\t\t// two settings here:\n\t\t\t\t// 1. user NOT in group but no permission to add\n\t\t\t\t// 2. user is in group but no permission to remove\n\t\t\t\tgroupClone.$isDisabled =\n\t\t\t\t\t(group.canAdd === false &&\n\t\t\t\t\t\t!this.user.groups.includes(group.id)) ||\n\t\t\t\t\t(group.canRemove === false &&\n\t\t\t\t\t\tthis.user.groups.includes(group.id));\n\t\t\t\treturn groupClone;\n\t\t\t});\n\t\t},\n\n\t\t/* QUOTA MANAGEMENT */\n\t\tusedSpace() {\n\t\t\tif (this.user.quota.used) {\n\t\t\t\treturn t('settings', '{size} used', {size: OC.Util.humanFileSize(this.user.quota.used)});\n\t\t\t}\n\t\t\treturn t('settings', '{size} used', {size: OC.Util.humanFileSize(0)});\n\t\t},\n\t\tusedQuota() {\n\t\t\tlet quota = this.user.quota.quota;\n\t\t\tif (quota > 0) {\n\t\t\t\tquota = Math.min(100, Math.round(this.user.quota.used / quota * 100));\n\t\t\t} else {\n\t\t\t\tvar usedInGB = this.user.quota.used / (10 * Math.pow(2, 30));\n\t\t\t\t//asymptotic curve approaching 50% at 10GB to visualize used stace with infinite quota\n\t\t\t\tquota = 95 * (1 - (1 / (usedInGB + 1)));\n\t\t\t}\n\t\t\treturn isNaN(quota) ? 0 : quota;\n\t\t},\n\t\t// Mapping saved values to objects\n\t\tuserQuota() {\n\t\t\tif (this.user.quota.quota >= 0) {\n\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\n\t\t\t\tlet humanQuota = OC.Util.humanFileSize(this.user.quota.quota);\n\t\t\t\tlet userQuota = this.quotaOptions.find(quota => quota.id === humanQuota);\n\t\t\t\treturn userQuota ? userQuota : {id:humanQuota, label:humanQuota};\n\t\t\t} else if (this.user.quota.quota === 'default') {\n\t\t\t\t// default quota is replaced by the proper value on load\n\t\t\t\treturn this.quotaOptions[0];\n\t\t\t}\n\t\t\treturn this.quotaOptions[1]; // unlimited\n\t\t},\n\n\t\t/* PASSWORD POLICY? */\n\t\tminPasswordLength() {\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength;\n\t\t},\n\n\t\t/* LANGUAGE */\n\t\tuserLanguage() {\n\t\t\tlet availableLanguages = this.languages[0].languages.concat(this.languages[1].languages);\n\t\t\tlet userLang = availableLanguages.find(lang => lang.code === this.user.language);\n\t\t\tif (typeof userLang !== 'object' && this.user.language !== '') {\n\t\t\t\treturn {\n\t\t\t\t\tcode: this.user.language,\n\t\t\t\t\tname: this.user.language\n\t\t\t\t}\n\t\t\t} else if(this.user.language === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn userLang;\n\t\t}\n\t},\n\tmethods: {\n\t\t/* MENU HANDLING */\n\t\ttoggleMenu() {\n\t\t\tthis.openedMenu = !this.openedMenu;\n\t\t},\n\t\thideMenu() {\n\t\t\tthis.openedMenu = false;\n\t\t},\n\n\t\t/**\n\t\t * Generate avatar url\n\t\t * \n\t\t * @param {string} user The user name\n\t\t * @param {int} size Size integer, default 32\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateAvatar(user, size=32) {\n\t\t\treturn OC.generateUrl(\n\t\t\t\t'/avatar/{user}/{size}?v={version}',\n\t\t\t\t{\n\t\t\t\t\tuser: user,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tversion: oc_userconfig.avatar.version\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Format array of groups objects to a string for the popup\n\t\t * \n\t\t * @param {array} groups The groups\n\t\t * @returns {string}\n\t\t */\n\t\tformatGroupsTitle(groups) {\n\t\t\tlet names = groups.map(group => group.name);\n\t\t\treturn names.slice(2,).join(', ');\n\t\t},\n\n\t\tdeleteUser() {\n\t\t\tthis.loading.delete = true;\n\t\t\tthis.loading.all = true;\n\t\t\tlet userid = this.user.id;\n\t\t\treturn this.$store.dispatch('deleteUser', userid)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\tthis.loading.all = false\n\t\t\t\t});\n\t\t},\n\n\t\tenableDisableUser() {\n\t\t\tthis.loading.delete = true;\n\t\t\tthis.loading.all = true;\n\t\t\tlet userid = this.user.id;\n\t\t\tlet enabled = !this.user.enabled;\n\t\t\treturn this.$store.dispatch('enableDisableUser', {userid, enabled})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\tthis.loading.all = false\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Set user displayName\n\t\t * \n\t\t * @param {string} displayName The display name\n\t\t * @returns {Promise}\n\t\t */\n\t\tupdateDisplayName() {\n\t\t\tlet displayName = this.$refs.displayName.value;\n\t\t\tthis.loading.displayName = true;\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id, \n\t\t\t\tkey: 'displayname',\n\t\t\t\tvalue: displayName\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.displayName = false;\n\t\t\t\tthis.$refs.displayName.value = displayName;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Set user password\n\t\t * \n\t\t * @param {string} password The email adress\n\t\t * @returns {Promise}\n\t\t */\n\t\tupdatePassword() {\n\t\t\tlet password = this.$refs.password.value;\n\t\t\tthis.loading.password = true;\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id,\n\t\t\t\tkey: 'password',\n\t\t\t\tvalue: password\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.password = false;\n\t\t\t\tthis.$refs.password.value = ''; // empty & show placeholder \n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Set user mailAddress\n\t\t * \n\t\t * @param {string} mailAddress The email adress\n\t\t * @returns {Promise}\n\t\t */\n\t\tupdateEmail() {\n\t\t\tlet mailAddress = this.$refs.mailAddress.value;\n\t\t\tthis.loading.mailAddress = true;\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id,\n\t\t\t\tkey: 'email',\n\t\t\t\tvalue: mailAddress\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.mailAddress = false;\n\t\t\t\tthis.$refs.mailAddress.value = mailAddress;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Create a new group and add user to it\n\t\t * \n\t\t * @param {string} groups Group id\n\t\t * @returns {Promise}\n\t\t */\n\t\tcreateGroup(gid) {\n\t\t\tthis.loading = {groups:true, subadmins:true}\n\t\t\tthis.$store.dispatch('addGroup', gid)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading = {groups:false, subadmins:false};\n\t\t\t\t\tlet userid = this.user.id;\n\t\t\t\t\tthis.$store.dispatch('addUserGroup', {userid, gid});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading = {groups:false, subadmins:false};\n\t\t\t\t});\n\t\t\treturn this.$store.getters.getGroups[this.groups.length];\n\t\t},\n\n\t\t/**\n\t\t * Add user to group\n\t\t * \n\t\t * @param {object} group Group object\n\t\t * @returns {Promise}\n\t\t */\n\t\taddUserGroup(group) {\n\t\t\tif (group.canAdd === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.loading.groups = true;\n\t\t\tlet userid = this.user.id;\n\t\t\tlet gid = group.id;\n\t\t\treturn this.$store.dispatch('addUserGroup', {userid, gid})\n\t\t\t\t.then(() => this.loading.groups = false);\n\t\t},\n\n\t\t/**\n\t\t * Remove user from group\n\t\t * \n\t\t * @param {object} group Group object\n\t\t * @returns {Promise}\n\t\t */\n\t\tremoveUserGroup(group) {\n\t\t\tif (group.canRemove === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.loading.groups = true;\n\t\t\tlet userid = this.user.id;\n\t\t\tlet gid = group.id;\n\t\t\treturn this.$store.dispatch('removeUserGroup', {userid, gid})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading.groups = false\n\t\t\t\t\t// remove user from current list if current list is the removed group\n\t\t\t\t\tif (this.$route.params.selectedGroup === gid) {\n\t\t\t\t\t\tthis.$store.commit('deleteUser', userid);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading.groups = false\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add user to group\n\t\t * \n\t\t * @param {object} group Group object\n\t\t * @returns {Promise}\n\t\t */\n\t\taddUserSubAdmin(group) {\n\t\t\tthis.loading.subadmins = true;\n\t\t\tlet userid = this.user.id;\n\t\t\tlet gid = group.id;\n\t\t\treturn this.$store.dispatch('addUserSubAdmin', {userid, gid})\n\t\t\t\t.then(() => this.loading.subadmins = false);\n\t\t},\n\n\t\t/**\n\t\t * Remove user from group\n\t\t * \n\t\t * @param {object} group Group object\n\t\t * @returns {Promise}\n\t\t */\n\t\tremoveUserSubAdmin(group) {\n\t\t\tthis.loading.subadmins = true;\n\t\t\tlet userid = this.user.id;\n\t\t\tlet gid = group.id;\n\t\t\treturn this.$store.dispatch('removeUserSubAdmin', {userid, gid})\n\t\t\t\t.then(() => this.loading.subadmins = false);\n\t\t},\n\n\t\t/**\n\t\t * Dispatch quota set request\n\t\t * \n\t\t * @param {string|Object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\n\t\t * @returns {string}\n\t\t */\n\t\tsetUserQuota(quota = 'none') {\n\t\t\tthis.loading.quota = true;\n\t\t\t// ensure we only send the preset id\n\t\t\tquota = quota.id ? quota.id : quota;\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id, \n\t\t\t\tkey: 'quota',\n\t\t\t\tvalue: quota\n\t\t\t}).then(() => this.loading.quota = false);\n\t\t\treturn quota;\n\t\t},\n\n\t\t/**\n\t\t * Validate quota string to make sure it's a valid human file size\n\t\t * \n\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t * @returns {Promise|boolean}\n\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tlet validQuota = OC.Util.computerFileSize(quota);\n\t\t\tif (validQuota !== null && validQuota >= 0) {\n\t\t\t\t// unify format output\n\t\t\t\treturn this.setUserQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)));\n\t\t\t}\n\t\t\t// if no valid do not change\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Dispatch language set request\n\t\t * \n\t\t * @param {Object} lang language object {code:'en', name:'English'}\n\t\t * @returns {Object}\n\t\t */\n\t\tsetUserLanguage(lang) {\n\t\t\tthis.loading.languages = true;\n\t\t\t// ensure we only send the preset id\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id, \n\t\t\t\tkey: 'language',\n\t\t\t\tvalue: lang.code\n\t\t\t}).then(() => this.loading.languages = false);\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Dispatch new welcome mail request\n\t\t */\n\t\tsendWelcomeMail() {\n\t\t\tthis.loading.all = true;\n\t\t\tthis.$store.dispatch('sendWelcomeMail', this.user.id)\n\t\t\t\t.then(success => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\t// Show feedback to indicate the success\n\t\t\t\t\t\tthis.feedbackMessage = t('setting', 'Welcome mail sent!');\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.feedbackMessage = '';\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t}\n\t\t\t\t\tthis.loading.all = false;\n\t\t\t\t});\n\t\t}\n\n\t}\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userRow.vue?vue&type=template&id=df9d4caa&\"\nimport script from \"./userRow.vue?vue&type=script&lang=js&\"\nexport * from \"./userRow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.user).length ===1)?_c('div',{staticClass:\"row\",attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable}},[(!_vm.loading.delete && !_vm.loading.disable)?_c('img',{attrs:{\"alt\":\"\",\"width\":\"32\",\"height\":\"32\",\"src\":_vm.generateAvatar(_vm.user.id, 32),\"srcset\":_vm.generateAvatar(_vm.user.id, 64)+' 2x, '+_vm.generateAvatar(_vm.user.id, 128)+' 4x'}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.id))]),_vm._v(\" \"),_c('div',{staticClass:\"obfuscated\"},[_vm._v(_vm._s(_vm.t('settings','You do not have permissions to see the details of this user')))])]):_c('div',{staticClass:\"row\",class:{'disabled': _vm.loading.delete || _vm.loading.disable},attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable}},[(!_vm.loading.delete && !_vm.loading.disable)?_c('img',{attrs:{\"alt\":\"\",\"width\":\"32\",\"height\":\"32\",\"src\":_vm.generateAvatar(_vm.user.id, 32),\"srcset\":_vm.generateAvatar(_vm.user.id, 64)+' 2x, '+_vm.generateAvatar(_vm.user.id, 128)+' 4x'}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.id))]),_vm._v(\" \"),_c('form',{staticClass:\"displayName\",class:{'icon-loading-small': _vm.loading.displayName},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateDisplayName($event)}}},[(_vm.user.backendCapabilities.setDisplayName)?[(_vm.user.backendCapabilities.setDisplayName)?_c('input',{ref:\"displayName\",attrs:{\"id\":'displayName'+_vm.user.id+_vm.rand,\"type\":\"text\",\"disabled\":_vm.loading.displayName||_vm.loading.all,\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.user.displayname}}):_vm._e(),_vm._v(\" \"),(_vm.user.backendCapabilities.setDisplayName)?_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}}):_vm._e()]:_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.t('settings', 'The backend does not support changing the display name')),expression:\"t('settings', 'The backend does not support changing the display name')\",modifiers:{\"auto\":true}}],staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.displayname))])],2),_vm._v(\" \"),(_vm.settings.canChangePassword && _vm.user.backendCapabilities.setPassword)?_c('form',{staticClass:\"password\",class:{'icon-loading-small': _vm.loading.password},on:{\"submit\":function($event){$event.preventDefault();return _vm.updatePassword($event)}}},[_c('input',{ref:\"password\",attrs:{\"id\":'password'+_vm.user.id+_vm.rand,\"type\":\"password\",\"required\":\"\",\"disabled\":_vm.loading.password||_vm.loading.all,\"minlength\":_vm.minPasswordLength,\"value\":\"\",\"placeholder\":_vm.t('settings', 'New password'),\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]):_c('div'),_vm._v(\" \"),_c('form',{staticClass:\"mailAddress\",class:{'icon-loading-small': _vm.loading.mailAddress},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateEmail($event)}}},[_c('input',{ref:\"mailAddress\",attrs:{\"id\":'mailAddress'+_vm.user.id+_vm.rand,\"type\":\"email\",\"disabled\":_vm.loading.mailAddress||_vm.loading.all,\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},domProps:{\"value\":_vm.user.email}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",class:{'icon-loading-small': _vm.loading.groups}},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"value\":_vm.userGroups,\"options\":_vm.availableGroups,\"disabled\":_vm.loading.groups||_vm.loading.all,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Add user in group'),\"label\":\"name\",\"track-by\":\"id\",\"limit\":2,\"multiple\":true,\"taggable\":_vm.settings.isAdmin,\"closeOnSelect\":false,\"tag-width\":60},on:{\"tag\":_vm.createGroup,\"select\":_vm.addUserGroup,\"remove\":_vm.removeUserGroup}},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.formatGroupsTitle(_vm.userGroups)),expression:\"formatGroupsTitle(userGroups)\",modifiers:{\"auto\":true}}],staticClass:\"multiselect__limit\",attrs:{\"slot\":\"limit\"},slot:\"limit\"},[_vm._v(\"+\"+_vm._s(_vm.userGroups.length-2))]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",class:{'icon-loading-small': _vm.loading.subadmins}},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"value\":_vm.userSubAdminsGroups,\"options\":_vm.subAdminsGroups,\"disabled\":_vm.loading.subadmins||_vm.loading.all,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"label\":\"name\",\"track-by\":\"id\",\"limit\":2,\"multiple\":true,\"closeOnSelect\":false,\"tag-width\":60},on:{\"select\":_vm.addUserSubAdmin,\"remove\":_vm.removeUserSubAdmin}},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.formatGroupsTitle(_vm.userSubAdminsGroups)),expression:\"formatGroupsTitle(userSubAdminsGroups)\",modifiers:{\"auto\":true}}],staticClass:\"multiselect__limit\",attrs:{\"slot\":\"limit\"},slot:\"limit\"},[_vm._v(\"+\"+_vm._s(_vm.userSubAdminsGroups.length-2))]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.usedSpace),expression:\"usedSpace\",modifiers:{\"auto\":true}}],staticClass:\"quota\",class:{'icon-loading-small': _vm.loading.quota}},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"value\":_vm.userQuota,\"options\":_vm.quotaOptions,\"disabled\":_vm.loading.quota||_vm.loading.all,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Select user quota'),\"label\":\"label\",\"track-by\":\"id\",\"allowEmpty\":false,\"taggable\":true},on:{\"tag\":_vm.validateQuota,\"input\":_vm.setUserQuota}}),_vm._v(\" \"),_c('progress',{staticClass:\"quota-user-progress\",class:{'warn':_vm.usedQuota>80},attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.usedQuota}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",class:{'icon-loading-small': _vm.loading.languages}},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"value\":_vm.userLanguage,\"options\":_vm.languages,\"disabled\":_vm.loading.languages||_vm.loading.all,\"placeholder\":_vm.t('settings', 'No language set'),\"label\":\"name\",\"track-by\":\"code\",\"allowEmpty\":false,\"group-values\":\"languages\",\"group-label\":\"label\"},on:{\"input\":_vm.setUserLanguage}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"storageLocation\"},[_vm._v(_vm._s(_vm.user.storageLocation))]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"},[_vm._v(_vm._s(_vm.user.backend))]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.user.lastLogin>0 ? _vm.OC.Util.formatDate(_vm.user.lastLogin) : ''),expression:\"user.lastLogin>0 ? OC.Util.formatDate(user.lastLogin) : ''\",modifiers:{\"auto\":true}}],staticClass:\"lastLogin\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.lastLogin>0 ? _vm.OC.Util.relativeModifiedDate(_vm.user.lastLogin) : _vm.t('settings','Never'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[(_vm.OC.currentUser !== _vm.user.id && _vm.user.id !== 'admin' && !_vm.loading.all)?_c('div',{staticClass:\"toggleUserActions\"},[_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMenu),expression:\"hideMenu\"}],staticClass:\"icon-more\",on:{\"click\":_vm.toggleMenu}}),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{ 'open': _vm.openedMenu }},[_c('popover-menu',{attrs:{\"menu\":_vm.userActions}})],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"feedback\",style:({opacity: _vm.feedbackMessage !== '' ? 1 : 0})},[_c('div',{staticClass:\"icon-checkmark\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.feedbackMessage)+\"\\n\\t\\t\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n  \n<template>\n\t<div id=\"app-content\" class=\"user-list-grid\" v-on:scroll.passive=\"onScroll\">\n\t\t<div class=\"row\" id=\"grid-header\" :class=\"{'sticky': scrolled && !showConfig.showNewUserForm}\">\n\t\t\t<div id=\"headerAvatar\" class=\"avatar\"></div>\n\t\t\t<div id=\"headerName\" class=\"name\">{{ t('settings', 'Username') }}</div>\n\t\t\t<div id=\"headerDisplayName\" class=\"displayName\">{{ t('settings',  'Display name') }}</div>\n\t\t\t<div id=\"headerPassword\" class=\"password\">{{ t('settings',  'Password') }}</div>\n\t\t\t<div id=\"headerAddress\" class=\"mailAddress\">{{ t('settings',  'Email') }}</div>\n\t\t\t<div id=\"headerGroups\" class=\"groups\">{{ t('settings',  'Groups') }}</div>\n\t\t\t<div id=\"headerSubAdmins\" class=\"subadmins\"\n\t\t\t\t v-if=\"subAdminsGroups.length>0 && settings.isAdmin\">{{ t('settings', 'Group admin for') }}</div>\n\t\t\t<div id=\"headerQuota\" class=\"quota\">{{ t('settings', 'Quota') }}</div>\n\t\t\t<div id=\"headerLanguages\" class=\"languages\"\n\t\t\t\t v-if=\"showConfig.showLanguages\">{{ t('settings', 'Language') }}</div>\n\t\t\t<div class=\"headerStorageLocation storageLocation\"\n\t\t\t\t v-if=\"showConfig.showStoragePath\">{{ t('settings', 'Storage location') }}</div>\n\t\t\t<div class=\"headerUserBackend userBackend\"\n\t\t\t\t v-if=\"showConfig.showUserBackend\">{{ t('settings', 'User backend') }}</div>\n\t\t\t<div class=\"headerLastLogin lastLogin\" \n\t\t\t\t v-if=\"showConfig.showLastLogin\">{{ t('settings', 'Last login') }}</div>\n\t\t\t<div class=\"userActions\"></div>\n\t\t</div>\n\n\t\t<form class=\"row\" id=\"new-user\" v-show=\"showConfig.showNewUserForm\"\n\t\t\t  v-on:submit.prevent=\"createUser\" :disabled=\"loading.all\"\n\t\t\t  :class=\"{'sticky': scrolled && showConfig.showNewUserForm}\">\n\t\t\t<div :class=\"loading.all?'icon-loading-small':'icon-add'\"></div>\n\t\t\t<div class=\"name\">\n\t\t\t\t<input id=\"newusername\" type=\"text\" required v-model=\"newUser.id\"\n\t\t\t\t\t   :placeholder=\"t('settings', 'Username')\" name=\"username\"\n\t\t\t\t\t   autocomplete=\"off\" autocapitalize=\"none\" autocorrect=\"off\"\n\t\t\t\t\t   ref=\"newusername\" pattern=\"[a-zA-Z0-9 _\\.@\\-']+\">\n\t\t\t</div>\n\t\t\t<div class=\"displayName\">\n\t\t\t\t<input id=\"newdisplayname\" type=\"text\" v-model=\"newUser.displayName\"\n\t\t\t\t\t   :placeholder=\"t('settings', 'Display name')\" name=\"displayname\"\n\t\t\t\t\t   autocomplete=\"off\" autocapitalize=\"none\" autocorrect=\"off\">\n\t\t\t</div>\n\t\t\t<div class=\"password\">\n\t\t\t\t<input id=\"newuserpassword\" type=\"password\" v-model=\"newUser.password\"\n\t\t\t\t\t   :required=\"newUser.mailAddress===''\" ref=\"newuserpassword\"\n\t\t\t\t\t   :placeholder=\"t('settings', 'Password')\" name=\"password\"\n\t\t\t\t\t   autocomplete=\"new-password\" autocapitalize=\"none\" autocorrect=\"off\"\n\t\t\t\t\t   :minlength=\"minPasswordLength\">\n\t\t\t</div>\n\t\t\t<div class=\"mailAddress\">\n\t\t\t\t<input id=\"newemail\" type=\"email\" v-model=\"newUser.mailAddress\"\n\t\t\t\t\t   :required=\"newUser.password===''\"\n\t\t\t\t\t   :placeholder=\"t('settings', 'Email')\" name=\"email\"\n\t\t\t\t\t   autocomplete=\"off\" autocapitalize=\"none\" autocorrect=\"off\">\n\t\t\t</div>\n\t\t\t<div class=\"groups\">\n\t\t\t\t<!-- hidden input trick for vanilla html5 form validation -->\n\t\t\t\t<input type=\"text\" :value=\"newUser.groups\" v-if=\"!settings.isAdmin\"\n\t\t\t\t\t   tabindex=\"-1\" id=\"newgroups\" :required=\"!settings.isAdmin\"\n\t\t\t\t\t   :class=\"{'icon-loading-small': loading.groups}\"/>\n\t\t\t\t<multiselect v-model=\"newUser.groups\" :options=\"canAddGroups\" :disabled=\"loading.groups||loading.all\"\n\t\t\t\t\t\t tag-placeholder=\"create\" :placeholder=\"t('settings', 'Add user in group')\"\n\t\t\t\t\t\t label=\"name\" track-by=\"id\" class=\"multiselect-vue\"\n\t\t\t\t\t\t :multiple=\"true\" :taggable=\"true\" :close-on-select=\"false\"\n\t\t\t\t\t\t :tag-width=\"60\" @tag=\"createGroup\">\n\t\t\t\t\t\t\t <!-- If user is not admin, he is a subadmin.\n\t\t\t\t\t\t\t \t  Subadmins can't create users outside their groups\n\t\t\t\t\t\t\t\t  Therefore, empty select is forbidden -->\n\t\t\t\t\t<span slot=\"noResult\">{{t('settings', 'No results')}}</span>\n\t\t\t\t</multiselect>\n\t\t\t</div>\n\t\t\t<div class=\"subadmins\" v-if=\"subAdminsGroups.length>0 && settings.isAdmin\">\n\t\t\t\t<multiselect :options=\"subAdminsGroups\" v-model=\"newUser.subAdminsGroups\"\n\t\t\t\t\t\t\t :placeholder=\"t('settings', 'Set user as admin for')\"\n\t\t\t\t\t\t\t label=\"name\" track-by=\"id\" class=\"multiselect-vue\"\n\t\t\t\t\t\t\t :multiple=\"true\" :close-on-select=\"false\" :tag-width=\"60\">\n\t\t\t\t\t<span slot=\"noResult\">{{t('settings', 'No results')}}</span>\n\t\t\t</multiselect>\n\t\t\t</div>\n\t\t\t<div class=\"quota\">\n\t\t\t\t<multiselect :options=\"quotaOptions\" v-model=\"newUser.quota\"\n\t\t\t\t\t\t\t :placeholder=\"t('settings', 'Select user quota')\"\n\t\t\t\t\t\t\t label=\"label\" track-by=\"id\" class=\"multiselect-vue\"\n\t\t\t\t\t\t\t :allowEmpty=\"false\" :taggable=\"true\"\n\t\t\t\t\t\t \t @tag=\"validateQuota\" >\n\t\t\t\t</multiselect>\n\t\t\t</div>\n\t\t\t<div class=\"languages\" v-if=\"showConfig.showLanguages\">\n\t\t\t\t<multiselect :options=\"languages\" v-model=\"newUser.language\"\n\t\t\t\t\t\t\t :placeholder=\"t('settings', 'Default language')\"\n\t\t\t\t\t\t\t label=\"name\" track-by=\"code\" class=\"multiselect-vue\"\n\t\t\t\t\t\t\t :allowEmpty=\"false\" group-values=\"languages\" group-label=\"label\">\n\t\t\t\t</multiselect>\n\t\t\t</div>\n\t\t\t<div class=\"storageLocation\" v-if=\"showConfig.showStoragePath\"></div>\n\t\t\t<div class=\"userBackend\" v-if=\"showConfig.showUserBackend\"></div>\n\t\t\t<div class=\"lastLogin\" v-if=\"showConfig.showLastLogin\"></div>\n\t\t\t<div class=\"userActions\">\n\t\t\t\t<input type=\"submit\" id=\"newsubmit\" class=\"button primary icon-checkmark-white has-tooltip\"\n\t\t\t\t\t   value=\"\" :title=\"t('settings', 'Add a new user')\">\n\t\t\t</div>\n\t\t</form>\n\n\t\t<user-row v-for=\"(user, key) in filteredUsers\" :user=\"user\" :key=\"key\" :settings=\"settings\" :showConfig=\"showConfig\"\n\t\t\t\t  :groups=\"groups\" :subAdminsGroups=\"subAdminsGroups\" :quotaOptions=\"quotaOptions\" :languages=\"languages\"\n\t\t\t\t  :externalActions=\"externalActions\" />\n\t\t<infinite-loading @infinite=\"infiniteHandler\" ref=\"infiniteLoading\">\n\t\t\t<div slot=\"spinner\"><div class=\"users-icon-loading icon-loading\"></div></div>\n\t\t\t<div slot=\"no-more\"><div class=\"users-list-end\"></div></div>\n\t\t\t<div slot=\"no-results\">\n\t\t\t\t<div id=\"emptycontent\">\n\t\t\t\t\t<div class=\"icon-contacts-dark\"></div>\n\t\t\t\t\t<h2>{{t('settings', 'No users in here')}}</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</infinite-loading>\n\t</div>\n</template>\n\n<script>\nimport userRow from './userList/userRow';\nimport { Multiselect } from 'nextcloud-vue'\nimport InfiniteLoading from 'vue-infinite-loading';\nimport Vue from 'vue';\n\nconst unlimitedQuota = {\n\tid: 'none',\n\tlabel: t('settings', 'Unlimited')\n}\nconst defaultQuota = {\n\tid: 'default',\n\tlabel: t('settings', 'Default quota')\n}\nconst newUser = {\n\tid: '',\n\tdisplayName: '',\n\tpassword: '',\n\tmailAddress: '',\n\tgroups: [],\n\tsubAdminsGroups: [],\n\tquota: defaultQuota,\n\tlanguage: {\n\t\tcode: 'en',\n\t\tname: t('settings', 'Default language')\n\t}\n}\n\nexport default {\n\tname: 'userList',\n\tprops: ['users', 'showConfig', 'selectedGroup', 'externalActions'],\n\tcomponents: {\n\t\tuserRow,\n\t\tMultiselect,\n\t\tInfiniteLoading\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tunlimitedQuota,\n\t\t\tdefaultQuota,\n\t\t\tloading: {\n\t\t\t\tall: false,\n\t\t\t\tgroups: false\n\t\t\t},\n\t\t\tscrolled: false,\n\t\t\tsearchQuery: '',\n\t\t\tnewUser: Object.assign({}, newUser)\n\t\t};\n\t},\n\tmounted() {\n\t\tif (!this.settings.canChangePassword) {\n\t\t\tOC.Notification.showTemporary(t('settings', 'Password change is disabled because the master key is disabled'));\n\t\t}\n\n\t\t/**\n\t\t * Reset and init new user form\n\t\t */\n\t\tthis.resetForm()\n\n\t\t/** \n\t\t * Register search\n\t\t */\n\t\tthis.userSearch = new OCA.Search(this.search, this.resetSearch);\n\t},\n\tcomputed: {\n\t\tsettings() {\n\t\t\treturn this.$store.getters.getServerData;\n\t\t},\n\t\tfilteredUsers() {\n\t\t\tif (this.selectedGroup === 'disabled') {\n\t\t\t\tlet disabledUsers = this.users.filter(user => user.enabled === false);\n\t\t\t\tif (disabledUsers.length === 0 && this.$refs.infiniteLoading && this.$refs.infiniteLoading.isComplete) {\n\t\t\t\t\t// disabled group is empty, redirection to all users\n\t\t\t\t\tthis.$router.push({ name: 'users' });\n\t\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\t\t}\n\t\t\t\treturn disabledUsers;\n\t\t\t}\n\t\t\tif (!this.settings.isAdmin) {\n\t\t\t\t// we don't want subadmins to edit themselves\n\t\t\t\treturn this.users.filter(user => user.enabled !== false && user.id !== oc_current_user);\n\t\t\t}\n\t\t\treturn this.users.filter(user => user.enabled !== false);\n\t\t},\n\t\tgroups() {\n\t\t\t// data provided php side + remove the disabled group\n\t\t\treturn this.$store.getters.getGroups\n\t\t\t\t.filter(group => group.id !== 'disabled')\n\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\t\t},\n\t\tcanAddGroups() {\n\t\t\t// disabled if no permission to add new users to group\n\t\t\treturn this.groups.map(group => {\n\t\t\t\t// clone object because we don't want\n\t\t\t\t// to edit the original groups\n\t\t\t\tgroup = Object.assign({}, group);\n\t\t\t\tgroup.$isDisabled = group.canAdd === false;\n\t\t\t\treturn group;\n\t\t\t});\n\t\t},\n\t\tsubAdminsGroups() {\n\t\t\t// data provided php side\n\t\t\treturn this.$store.getters.getSubadminGroups;\n\t\t},\n\t\tquotaOptions() {\n\t\t\t// convert the preset array into objects\n\t\t\tlet quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({id: cur, label: cur}), []);\n\t\t\t// add default presets\n\t\t\tquotaPreset.unshift(this.unlimitedQuota);\n\t\t\tquotaPreset.unshift(this.defaultQuota);\n\t\t\treturn quotaPreset;\n\t\t},\n\t\tminPasswordLength() {\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength;\n\t\t},\n\t\tusersOffset() {\n\t\t\treturn this.$store.getters.getUsersOffset;\n\t\t},\n\t\tusersLimit() {\n\t\t\treturn this.$store.getters.getUsersLimit;\n\t\t},\n\t\tusersCount() {\n\t\t\treturn this.users.length\n\t\t},\n\n\t\t/* LANGUAGES */\n\t\tlanguages() {\n\t\t\treturn Array(\n\t\t\t\t{\n\t\t\t\t\tlabel: t('settings', 'Common languages'),\n\t\t\t\t\tlanguages: this.settings.languages.commonlanguages\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: t('settings', 'All languages'),\n\t\t\t\t\tlanguages: this.settings.languages.languages\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t},\n\twatch: {\n\t\t// watch url change and group select\n\t\tselectedGroup: function (val, old) {\n\t\t\tthis.$store.commit('resetUsers');\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\tthis.setNewUserDefaultGroup(val);\n\t\t},\n\n\t\t// make sure the infiniteLoading state is changed if we manually\n\t\t// add/remove data from the store\n\t\tusersCount: function(val, old) {\n\t\t\t// deleting the last user, reset the list \n\t\t\tif (val === 0 && old === 1) {\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\t// adding the first user, warn the infiniteLoader that \n\t\t\t// the list is not empty anymore (we don't fetch the newly\n\t\t\t// added user as we already have all the info we need)\n\t\t\t} else if (val === 1 && old === 0) {\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.loaded()\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tonScroll(event) {\n\t\t\tthis.scrolled = event.target.scrollTo > 0;\n\t\t},\n\n\t\t/**\n\t\t * Validate quota string to make sure it's a valid human file size\n\t\t * \n\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t * @returns {Object}\n\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tlet validQuota = OC.Util.computerFileSize(quota);\n\t\t\tif (validQuota !== null && validQuota >= 0) {\n\t\t\t\t// unify format output\n\t\t\t\tquota = OC.Util.humanFileSize(OC.Util.computerFileSize(quota));\n\t\t\t\treturn this.newUser.quota = {id: quota, label: quota};\n\t\t\t}\n\t\t\t// Default is unlimited\n\t\t\treturn this.newUser.quota = this.quotaOptions[0];\n\t\t},\n\n\t\tinfiniteHandler($state) {\n\t\t\tthis.$store.dispatch('getUsers', {\n\t\t\t\toffset: this.usersOffset,\n\t\t\t\tlimit: this.usersLimit,\n\t\t\t\tgroup: this.selectedGroup !== 'disabled' ? this.selectedGroup : '',\n\t\t\t\tsearch: this.searchQuery\n\t\t\t})\n\t\t\t.then((response) => { response ? $state.loaded() : $state.complete() });\n\t\t},\n\n\t\t/* SEARCH */\n\t\tsearch(query) {\n\t\t\tthis.searchQuery = query;\n\t\t\tthis.$store.commit('resetUsers');\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t},\n\t\tresetSearch() {\n\t\t\tthis.search('');\n\t\t},\n\n\t\tresetForm() {\n\t\t\t// revert form to original state\n\t\t\tthis.newUser = Object.assign({}, newUser);\n\n\t\t\t/** \n\t\t\t * Init default language from server data. The use of this.settings\n\t\t\t * requires a computed variable, which break the v-model binding of the form,\n\t\t\t * this is a much easier solution than getter and setter on a computed var\n\t\t\t */\n\t\t\tif (this.settings.defaultLanguage) {\n\t\t\t\tVue.set(this.newUser.language, 'code', this.settings.defaultLanguage);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * In case the user directly loaded the user list within a group\n\t\t\t * the watch won't be triggered. We need to initialize it.\n\t\t\t */\n\t\t\tthis.setNewUserDefaultGroup(this.selectedGroup);\n\n\t\t\tthis.loading.all = false;\n\t\t},\n\t\tcreateUser() {\n\t\t\tthis.loading.all = true;\n\t\t\tthis.$store.dispatch('addUser', {\n\t\t\t\tuserid: this.newUser.id,\n\t\t\t\tpassword: this.newUser.password,\n\t\t\t\tdisplayName: this.newUser.displayName,\n\t\t\t\temail: this.newUser.mailAddress,\n\t\t\t\tgroups: this.newUser.groups.map(group => group.id),\n\t\t\t\tsubadmin: this.newUser.subAdminsGroups.map(group => group.id),\n\t\t\t\tquota: this.newUser.quota.id,\n\t\t\t\tlanguage: this.newUser.language.code,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tthis.resetForm()\n\t\t\t\tthis.$refs.newusername.focus();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.loading.all = false;\n\t\t\t\tif (error.response && error.response.data && error.response.data.ocs && error.response.data.ocs.meta) {\n\t\t\t\t\tconst statuscode = error.response.data.ocs.meta.statuscode\n\t\t\t\t\tif (statuscode === 102) {\n\t\t\t\t\t\t// wrong username\n\t\t\t\t\t\tthis.$refs.newusername.focus();\t\n\t\t\t\t\t} else if (statuscode === 107) {\n\t\t\t\t\t\t// wrong password\n\t\t\t\t\t\tthis.$refs.newuserpassword.focus();\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetNewUserDefaultGroup(value) {\n\t\t\tif (value && value.length > 0) {\n\t\t\t\t// setting new user default group to the current selected one\n\t\t\t\tlet currentGroup = this.groups.find(group => group.id === value);\n\t\t\t\tif (currentGroup) {\n\t\t\t\t\tthis.newUser.groups = [currentGroup];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// fallback, empty selected group\n\t\t\tthis.newUser.groups = [];\n\t\t},\n\n\t\t/**\n\t\t * Create a new group\n\t\t * \n\t\t * @param {string} groups Group id\n\t\t * @returns {Promise}\n\t\t */\n\t\tcreateGroup(gid) {\n\t\t\tthis.loading.groups = true;\n\t\t\tthis.$store.dispatch('addGroup', gid)\n\t\t\t\t.then((group) => {\n\t\t\t\t\tthis.newUser.groups.push(this.groups.find(group => group.id === gid))\n\t\t\t\t\tthis.loading.groups = false;\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading.groups = false;\n\t\t\t\t});\n\t\t\treturn this.$store.getters.getGroups[this.groups.length];\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userList.vue?vue&type=template&id=094ea68f&\"\nimport script from \"./userList.vue?vue&type=script&lang=js&\"\nexport * from \"./userList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-list-grid\",attrs:{\"id\":\"app-content\"},on:{\"&scroll\":function($event){return _vm.onScroll($event)}}},[_c('div',{staticClass:\"row\",class:{'sticky': _vm.scrolled && !_vm.showConfig.showNewUserForm},attrs:{\"id\":\"grid-header\"}},[_c('div',{staticClass:\"avatar\",attrs:{\"id\":\"headerAvatar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"name\",attrs:{\"id\":\"headerName\"}},[_vm._v(_vm._s(_vm.t('settings', 'Username')))]),_vm._v(\" \"),_c('div',{staticClass:\"displayName\",attrs:{\"id\":\"headerDisplayName\"}},[_vm._v(_vm._s(_vm.t('settings',  'Display name')))]),_vm._v(\" \"),_c('div',{staticClass:\"password\",attrs:{\"id\":\"headerPassword\"}},[_vm._v(_vm._s(_vm.t('settings',  'Password')))]),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\",attrs:{\"id\":\"headerAddress\"}},[_vm._v(_vm._s(_vm.t('settings',  'Email')))]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",attrs:{\"id\":\"headerGroups\"}},[_vm._v(_vm._s(_vm.t('settings',  'Groups')))]),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",attrs:{\"id\":\"headerSubAdmins\"}},[_vm._v(_vm._s(_vm.t('settings', 'Group admin for')))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\",attrs:{\"id\":\"headerQuota\"}},[_vm._v(_vm._s(_vm.t('settings', 'Quota')))]),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",attrs:{\"id\":\"headerLanguages\"}},[_vm._v(_vm._s(_vm.t('settings', 'Language')))]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"headerStorageLocation storageLocation\"},[_vm._v(_vm._s(_vm.t('settings', 'Storage location')))]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"headerUserBackend userBackend\"},[_vm._v(_vm._s(_vm.t('settings', 'User backend')))]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"headerLastLogin lastLogin\"},[_vm._v(_vm._s(_vm.t('settings', 'Last login')))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"})]),_vm._v(\" \"),_c('form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showConfig.showNewUserForm),expression:\"showConfig.showNewUserForm\"}],staticClass:\"row\",class:{'sticky': _vm.scrolled && _vm.showConfig.showNewUserForm},attrs:{\"id\":\"new-user\",\"disabled\":_vm.loading.all},on:{\"submit\":function($event){$event.preventDefault();return _vm.createUser($event)}}},[_c('div',{class:_vm.loading.all?'icon-loading-small':'icon-add'}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.id),expression:\"newUser.id\"}],ref:\"newusername\",attrs:{\"id\":\"newusername\",\"type\":\"text\",\"required\":\"\",\"placeholder\":_vm.t('settings', 'Username'),\"name\":\"username\",\"autocomplete\":\"off\",\"autocapitalize\":\"none\",\"autocorrect\":\"off\",\"pattern\":\"[a-zA-Z0-9 _\\\\.@\\\\-']+\"},domProps:{\"value\":(_vm.newUser.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"id\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"displayName\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.displayName),expression:\"newUser.displayName\"}],attrs:{\"id\":\"newdisplayname\",\"type\":\"text\",\"placeholder\":_vm.t('settings', 'Display name'),\"name\":\"displayname\",\"autocomplete\":\"off\",\"autocapitalize\":\"none\",\"autocorrect\":\"off\"},domProps:{\"value\":(_vm.newUser.displayName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"displayName\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.password),expression:\"newUser.password\"}],ref:\"newuserpassword\",attrs:{\"id\":\"newuserpassword\",\"type\":\"password\",\"required\":_vm.newUser.mailAddress==='',\"placeholder\":_vm.t('settings', 'Password'),\"name\":\"password\",\"autocomplete\":\"new-password\",\"autocapitalize\":\"none\",\"autocorrect\":\"off\",\"minlength\":_vm.minPasswordLength},domProps:{\"value\":(_vm.newUser.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"password\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.mailAddress),expression:\"newUser.mailAddress\"}],attrs:{\"id\":\"newemail\",\"type\":\"email\",\"required\":_vm.newUser.password==='',\"placeholder\":_vm.t('settings', 'Email'),\"name\":\"email\",\"autocomplete\":\"off\",\"autocapitalize\":\"none\",\"autocorrect\":\"off\"},domProps:{\"value\":(_vm.newUser.mailAddress)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"mailAddress\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[(!_vm.settings.isAdmin)?_c('input',{class:{'icon-loading-small': _vm.loading.groups},attrs:{\"type\":\"text\",\"tabindex\":\"-1\",\"id\":\"newgroups\",\"required\":!_vm.settings.isAdmin},domProps:{\"value\":_vm.newUser.groups}}):_vm._e(),_vm._v(\" \"),_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"options\":_vm.canAddGroups,\"disabled\":_vm.loading.groups||_vm.loading.all,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Add user in group'),\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"taggable\":true,\"close-on-select\":false,\"tag-width\":60},on:{\"tag\":_vm.createGroup},model:{value:(_vm.newUser.groups),callback:function ($$v) {_vm.$set(_vm.newUser, \"groups\", $$v)},expression:\"newUser.groups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\"},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"options\":_vm.subAdminsGroups,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"label\":\"name\",\"track-by\":\"id\",\"multiple\":true,\"close-on-select\":false,\"tag-width\":60},model:{value:(_vm.newUser.subAdminsGroups),callback:function ($$v) {_vm.$set(_vm.newUser, \"subAdminsGroups\", $$v)},expression:\"newUser.subAdminsGroups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\"},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"options\":_vm.quotaOptions,\"placeholder\":_vm.t('settings', 'Select user quota'),\"label\":\"label\",\"track-by\":\"id\",\"allowEmpty\":false,\"taggable\":true},on:{\"tag\":_vm.validateQuota},model:{value:(_vm.newUser.quota),callback:function ($$v) {_vm.$set(_vm.newUser, \"quota\", $$v)},expression:\"newUser.quota\"}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\"},[_c('multiselect',{staticClass:\"multiselect-vue\",attrs:{\"options\":_vm.languages,\"placeholder\":_vm.t('settings', 'Default language'),\"label\":\"name\",\"track-by\":\"code\",\"allowEmpty\":false,\"group-values\":\"languages\",\"group-label\":\"label\"},model:{value:(_vm.newUser.language),callback:function ($$v) {_vm.$set(_vm.newUser, \"language\", $$v)},expression:\"newUser.language\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"storageLocation\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"lastLogin\"}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[_c('input',{staticClass:\"button primary icon-checkmark-white has-tooltip\",attrs:{\"type\":\"submit\",\"id\":\"newsubmit\",\"value\":\"\",\"title\":_vm.t('settings', 'Add a new user')}})])]),_vm._v(\" \"),_vm._l((_vm.filteredUsers),function(user,key){return _c('user-row',{key:key,attrs:{\"user\":user,\"settings\":_vm.settings,\"showConfig\":_vm.showConfig,\"groups\":_vm.groups,\"subAdminsGroups\":_vm.subAdminsGroups,\"quotaOptions\":_vm.quotaOptions,\"languages\":_vm.languages,\"externalActions\":_vm.externalActions}})}),_vm._v(\" \"),_c('infinite-loading',{ref:\"infiniteLoading\",on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('div',{staticClass:\"users-icon-loading icon-loading\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"},[_c('div',{staticClass:\"users-list-end\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_c('div',{attrs:{\"id\":\"emptycontent\"}},[_c('div',{staticClass:\"icon-contacts-dark\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('settings', 'No users in here')))])])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<AppContent app-name=\"settings\" :navigation-class=\"{ 'icon-loading': loadingAddGroup }\">\n\t\t<template #navigation>\n\t\t\t<AppNavigationNew button-id=\"new-user-button\" :text=\"t('settings','New user')\" button-class=\"icon-add\" @click=\"toggleNewUserMenu\" />\n\t\t\t<ul id=\"usergrouplist\">\n\t\t\t\t<AppNavigationItem v-for=\"item in menu\" :key=\"item.key\" :item=\"item\" />\n\t\t\t</ul>\n\t\t\t<AppNavigationSettings>\n\t\t\t\t<div>\n\t\t\t\t\t<p>{{t('settings', 'Default quota:')}}</p>\n\t\t\t\t\t<multiselect :value=\"defaultQuota\" :options=\"quotaOptions\"\n\t\t\t\t\t\t\t\t tag-placeholder=\"create\" :placeholder=\"t('settings', 'Select default quota')\"\n\t\t\t\t\t\t\t\t label=\"label\" track-by=\"id\" class=\"multiselect-vue\"\n\t\t\t\t\t\t\t\t :allowEmpty=\"false\" :taggable=\"true\"\n\t\t\t\t\t\t\t\t @tag=\"validateQuota\" @input=\"setDefaultQuota\">\n\t\t\t\t\t</multiselect>\n\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"checkbox\" id=\"showLanguages\" class=\"checkbox\" v-model=\"showLanguages\">\n\t\t\t\t\t<label for=\"showLanguages\">{{t('settings', 'Show Languages')}}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"checkbox\" id=\"showLastLogin\" class=\"checkbox\" v-model=\"showLastLogin\">\n\t\t\t\t\t<label for=\"showLastLogin\">{{t('settings', 'Show last login')}}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"checkbox\" id=\"showUserBackend\" class=\"checkbox\" v-model=\"showUserBackend\">\n\t\t\t\t\t<label for=\"showUserBackend\">{{t('settings', 'Show user backend')}}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"checkbox\" id=\"showStoragePath\" class=\"checkbox\" v-model=\"showStoragePath\">\n\t\t\t\t\t<label for=\"showStoragePath\">{{t('settings', 'Show storage path')}}</label>\n\t\t\t\t</div>\n\t\t\t</AppNavigationSettings>\n\t\t</template>\n\t\t<user-list #content :users=\"users\" :showConfig=\"showConfig\" :selectedGroup=\"selectedGroup\" :externalActions=\"externalActions\" />\n\t</AppContent>\n</template>\n\n<script>\nimport {\n\tAppContent,\n\tAppNavigationItem,\n\tAppNavigationNew,\n\tAppNavigationSettings,\n} from 'nextcloud-vue';\nimport userList from '../components/userList';\nimport Vue from 'vue';\nimport VueLocalStorage from 'vue-localstorage'\nimport Multiselect from 'vue-multiselect';\nimport api from '../store/api';\n\nVue.use(VueLocalStorage)\n\nexport default {\n\tname: 'Users',\n\tprops: ['selectedGroup'],\n\tcomponents: {\n\t\tAppContent,\n\t\tAppNavigationItem,\n\t\tAppNavigationNew,\n\t\tAppNavigationSettings,\n\t\tuserList,\n\t\tMultiselect,\n\t},\n\tbeforeMount() {\n\t\tthis.$store.commit('initGroups', {\n\t\t\tgroups: this.$store.getters.getServerData.groups, \n\t\t\torderBy: this.$store.getters.getServerData.sortGroups,\n\t\t\tuserCount: this.$store.getters.getServerData.userCount\n\t\t});\n\t\tthis.$store.dispatch('getPasswordPolicyMinLength');\n\t},\n\tcreated() {\n\t\t// init the OCA.Settings.UserList object\n\t\t// and add the registerAction method\n\t\tObject.assign(OCA, {\n\t\t\tSettings: {\n\t\t\t\tUserList: {\n\t\t\t\t\tregisterAction: this.registerAction\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// default quota is set to unlimited\n\t\t\tunlimitedQuota: {id: 'none', label: t('settings', 'Unlimited')},\n\t\t\t// temporary value used for multiselect change\n\t\t\tselectedQuota: false,\n\t\t\texternalActions: [],\n\t\t\tshowAddGroupEntry: false,\n\t\t\tloadingAddGroup: false,\n\t\t\tshowConfig: {\n\t\t\t\tshowStoragePath: false,\n\t\t\t\tshowUserBackend: false,\n\t\t\t\tshowLastLogin: false,\n\t\t\t\tshowNewUserForm: false,\n\t\t\t\tshowLanguages: false\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggleNewUserMenu() {\n\t\t\tthis.showConfig.showNewUserForm = !this.showConfig.showNewUserForm;\n\t\t\tif (this.showConfig.showNewUserForm) {\n\t\t\t\tVue.nextTick(() => {\n\t\t\t\t\twindow.newusername.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetLocalstorage(key) {\n\t\t\t// force initialization\n\t\t\tlet localConfig = this.$localStorage.get(key);\n\t\t\t// if localstorage is null, fallback to original values\n\t\t\tthis.showConfig[key] = localConfig !== null ? localConfig === 'true' : this.showConfig[key];\n\t\t\treturn this.showConfig[key];\n\t\t},\n\t\tsetLocalStorage(key, status) {\n\t\t\tthis.showConfig[key] = status;\n\t\t\tthis.$localStorage.set(key, status);\n\t\t\treturn status;\n\t\t},\n\t\tremoveGroup(groupid) {\n\t\t\tlet self = this;\n\t\t\t// TODO migrate to a vue js confirm dialog component \n\t\t\tOC.dialogs.confirm(\n\t\t\t\tt('settings', 'You are about to remove the group {group}. The users will NOT be deleted.', {group: groupid}),\n\t\t\t\tt('settings','Please confirm the group removal '),\n\t\t\t\tfunction (success) {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tself.$store.dispatch('removeGroup', groupid);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Dispatch default quota set request\n\t\t * \n\t\t * @param {string|Object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\n\t\t * @returns {string}\n\t\t */\n\t\tsetDefaultQuota(quota = 'none') {\n\t\t\tthis.$store.dispatch('setAppConfig', {\n\t\t\t\tapp: 'files',\n\t\t\t\tkey: 'default_quota',\n\t\t\t\t// ensure we only send the preset id\n\t\t\t\tvalue: quota.id ? quota.id : quota\n\t\t\t}).then(() => {\n\t\t\t\tif (typeof quota !== 'object') {\n\t\t\t\t\tquota = {id: quota, label: quota};\n\t\t\t\t}\n\t\t\t\tthis.defaultQuota = quota;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Validate quota string to make sure it's a valid human file size\n\t\t *\n\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t * @returns {Promise|boolean}\n\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tlet validQuota = OC.Util.computerFileSize(quota);\n\t\t\tif (validQuota === null) {\n\t\t\t\treturn this.setDefaultQuota('none');\n\t\t\t} else {\n\t\t\t\t// unify format output\n\t\t\t\treturn this.setDefaultQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)));\n\t\t\t}\n\t\t\t// if no valid do not change\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Register a new action for the user menu\n\t\t * \n\t\t * @param {string} icon the icon class\n\t\t * @param {string} text the text to display\n\t\t * @param {function} action the function to run\n\t\t */\n\t\tregisterAction(icon, text, action) {\n\t\t\tthis.externalActions.push({\n\t\t\t\ticon: icon,\n\t\t\t\ttext: text,\n\t\t\t\taction: action\n\t\t\t});\n\t\t\treturn this.externalActions;\n\t\t},\n\n\t\t/**\n\t\t * Create a new group\n\t\t * \n\t\t * @param {Object} event The form submit event\n\t\t */\n\t\tcreateGroup(event) {\n\t\t\tlet gid = event.target[0].value;\n\t\t\tthis.loadingAddGroup = true;\n\t\t\tthis.$store.dispatch('addGroup', gid)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.showAddGroupEntry = false;\n\t\t\t\t\tthis.loadingAddGroup = false;\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'group',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tselectedGroup: gid\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loadingAddGroup = false;\n\t\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tusers() {\n\t\t\treturn this.$store.getters.getUsers;\n\t\t},\n\t\tusersOffset() {\n\t\t\treturn this.$store.getters.getUsersOffset;\n\t\t},\n\t\tusersLimit() {\n\t\t\treturn this.$store.getters.getUsersLimit;\n\t\t},\n\n\t\t// Local settings\n\t\tshowLanguages: {\n\t\t\tget: function() {return this.getLocalstorage('showLanguages')},\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showLanguages', status);\n\t\t\t}\n\t\t},\n\t\tshowLastLogin: {\n\t\t\tget: function() {return this.getLocalstorage('showLastLogin')},\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showLastLogin', status);\n\t\t\t}\n\t\t},\n\t\tshowUserBackend: {\n\t\t\tget: function() {return this.getLocalstorage('showUserBackend')},\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showUserBackend', status);\n\t\t\t}\n\t\t},\n\t\tshowStoragePath: {\n\t\t\tget: function() {return this.getLocalstorage('showStoragePath')},\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showStoragePath', status);\n\t\t\t}\n\t\t},\n\n\t\tuserCount() {\n\t\t\treturn this.$store.getters.getUserCount;\n\t\t},\n\t\tsettings() {\n\t\t\treturn this.$store.getters.getServerData;\n\t\t},\n\n\t\t// default quota\n\t\tquotaOptions() {\n\t\t\t// convert the preset array into objects\n\t\t\tlet quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({id:cur, label:cur}), []);\n\t\t\t// add default presets\n\t\t\tquotaPreset.unshift(this.unlimitedQuota);\n\t\t\treturn quotaPreset;\n\t\t},\n\t\t// mapping saved values to objects\n\t\tdefaultQuota: {\n\t\t\tget: function() {\n\t\t\t\tif (this.selectedQuota !== false) {\n\t\t\t\t\treturn this.selectedQuota;\n\t\t\t\t}\n\t\t\t\tif (this.settings.defaultQuota !== this.unlimitedQuota.id && OC.Util.computerFileSize(this.settings.defaultQuota) >= 0) {\n\t\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\n\t\t\t\t\treturn {id:this.settings.defaultQuota, label:this.settings.defaultQuota};\n\t\t\t\t}\n\t\t\t\treturn this.unlimitedQuota; // unlimited\n\t\t\t},\n\t\t\tset: function(quota) {\n\t\t\t\tthis.selectedQuota =  quota;\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\t// BUILD APP NAVIGATION MENU OBJECT\n\t\tmenu() {\n\t\t\t// Data provided php side\n\t\t\tlet self = this;\n\t\t\tlet groups = this.$store.getters.getGroups;\n\t\t\tgroups = Array.isArray(groups) ? groups : [];\n\n\t\t\t// Map groups\n\t\t\tgroups = groups.map(group => {\n\t\t\t\tlet item = {};\n\t\t\t\titem.id = group.id.replace(' ', '_');\n\t\t\t\titem.key = item.id;\n\t\t\t\titem.utils = {}\n\n\t\t\t\t// router link to\n\t\t\t\titem.router = {\n\t\t\t\t\tname: 'group',\n\t\t\t\t\tparams: {selectedGroup: group.id}\n\t\t\t\t};\n\n\t\t\t\t// group name\n\t\t\t\titem.text = group.name;\n\t\t\t\titem.title = group.name;\n\n\t\t\t\t// users count for all groups\n\t\t\t\tif (group.usercount - group.disabled > 0 || group.usercount === -1) {\n\t\t\t\t\titem.utils.counter = group.usercount - group.disabled;\n\t\t\t\t}\n\n\t\t\t\tif (item.id !== 'admin' && item.id !== 'disabled' && this.settings.isAdmin) {\n\t\t\t\t\t// add delete button on real groups\n\t\t\t\t\titem.utils.actions = [{\n\t\t\t\t\t\ticon: 'icon-delete',\n\t\t\t\t\t\ttext: t('settings', 'Remove group'),\n\t\t\t\t\t\taction: function() {\n\t\t\t\t\t\t\tself.removeGroup(group.id)\n\t\t\t\t\t\t}\n\t\t\t\t\t}];\n\t\t\t\t};\n\t\t\t\treturn item;\n\t\t\t});\n\n\t\t\t// Every item is added on top of the array, so we're going backward\n\t\t\t// Groups, separator, disabled, admin, everyone\n\n\t\t\t// Add separator\n\t\t\tlet realGroups = groups.find((group) => {return group.id !== 'disabled' && group.id !== 'admin'});\n\t\t\trealGroups = typeof realGroups === 'undefined' ? [] : realGroups;\n\t\t\trealGroups = Array.isArray(realGroups) ? realGroups : [realGroups];\n\t\t\tif (realGroups.length > 0) {\n\t\t\t\tlet separator = {\n\t\t\t\t\tcaption: true,\n\t\t\t\t\ttext: t('settings', 'Groups')\n\t\t\t\t};\n\t\t\t\tgroups.unshift(separator);\n\t\t\t}\n\n\t\t\t// Adjust admin and disabled groups\n\t\t\tlet adminGroup = groups.find(group => group.id == 'admin');\n\t\t\tlet disabledGroup = groups.find(group => group.id == 'disabled');\n\n\t\t\t// filter out admin and disabled\n\t\t\tgroups = groups.filter(group => ['admin', 'disabled'].indexOf(group.id) === -1);\n\n\t\t\tif (adminGroup && adminGroup.text) {\n\t\t\t\tadminGroup.text = t('settings', 'Admins');\t// rename admin group\n\t\t\t\tadminGroup.icon = 'icon-user-admin';\t\t// set icon\n\t\t\t\tgroups.unshift(adminGroup);\t\t\t\t\t// add admin group if present\n\t\t\t}\n\t\t\tif (disabledGroup && disabledGroup.text) {\n\t\t\t\tdisabledGroup.text = t('settings', 'Disabled users');\t// rename disabled group\n\t\t\t\tdisabledGroup.icon = 'icon-disabled-users';\t\t\t\t// set icon\n\t\t\t\tif (disabledGroup.utils && (\n\t\t\t\t\t   disabledGroup.utils.counter > 0\t\t\t\t\t// add disabled if not empty \n\t\t\t\t\t|| disabledGroup.utils.counter === -1)\t\t\t\t// add disabled if ldap enabled \n\t\t\t\t) {\n\t\t\t\t\tgroups.unshift(disabledGroup);\t\t\t\t\t\t\n\t\t\t\t\tif (disabledGroup.utils.counter === -1) {\n\t\t\t\t\t\t// hides the counter instead of showing -1\n\t\t\t\t\t\tdelete disabledGroup.utils.counter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t// Add everyone group\n\t\t\tlet everyoneGroup = {\n\t\t\t\tid: 'everyone',\n\t\t\t\tkey: 'everyone',\n\t\t\t\ticon: 'icon-contacts-dark',\n\t\t\t\trouter: {name:'users'},\n\t\t\t\ttext: t('settings', 'Everyone'),\n\t\t\t};\n\t\t\t// users count\n\t\t\tif (this.userCount > 0) {\n\t\t\t\tVue.set(everyoneGroup, 'utils', {\n\t\t\t\t\tcounter: this.userCount\n\t\t\t\t});\n\t\t\t}\n\t\t\tgroups.unshift(everyoneGroup);\n\n\t\t\tlet addGroup = {\n\t\t\t\tid: 'addgroup',\n\t\t\t\tkey: 'addgroup',\n\t\t\t\ticon: 'icon-add',\n\t\t\t\ttext: t('settings', 'Add group'),\n\t\t\t\tclasses: this.loadingAddGroup ? 'icon-loading-small' : ''\n\t\t\t};\n\t\t\tif (this.showAddGroupEntry) {\n\t\t\t\tVue.set(addGroup, 'edit', {\n\t\t\t\t\ttext: t('settings', 'Add group'),\n\t\t\t\t\taction: this.createGroup,\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tself.showAddGroupEntry = false\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\taddGroup.classes = 'editing';\n\t\t\t} else {\n\t\t\t\tVue.set(addGroup, 'action', function() {\n\t\t\t\t\tself.showAddGroupEntry = true\n\t\t\t\t\t// focus input\n\t\t\t\t\tVue.nextTick(() => {\n\t\t\t\t\t\twindow.addgroup.querySelector('form > input[type=\"text\"]').focus()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t\tgroups.unshift(addGroup);\n\n\t\t\treturn groups;\n\t\t},\n\t}\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=5556664d&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}